<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Exploratory Data Analysis and Visualizations</title>

<script src="site_libs/header-attrs-2.24/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.3/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="data.html">Data Sources</a>
</li>
<li>
  <a href="data_processing.html">Data Processing</a>
</li>
<li>
  <a href="eda.html">Exploratory Analysis</a>
</li>
<li>
  <a href="viz.html">Interactive Maps</a>
</li>
<li>
  <a href="stats.html">Statistical Analysis</a>
</li>
<li>
  <a href="report.html">Final Report</a>
</li>
<li>
  <a href="https://github.com/dkoproski/AirQualityHealthNYC.github.io">
    <span class="fa fa-github"></span>
     
    GitHub
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Exploratory Data Analysis and
Visualizations</h1>

</div>


<div id="air-pollutants" class="section level1">
<h1><strong>Air Pollutants</strong></h1>
<p>The Air Quality data is split into two parts. One consists of
seasonal and yearly data, which gives us an idea of pollution in all of
New York City’s neighborhoods from 2010-2022, while the other involves
daily data, which is more precise with regards to time and location
where the measurement was done, but is not available for all
neighborhoods in New York City and only spans from 2021-2022.</p>
<div id="seasonal-and-yearly-data" class="section level2">
<h2><strong>Seasonal and Yearly Data</strong></h2>
<p>We began by examining the seasonal/yearly data to get a general idea
of NYC’s air quality trends between 2010-2021. From the histogram and
the boxplots below, it appears that PM2.5 concentrations have been
steadily decreasing since 2010. The same trend is evident for NO2, but
the decrease seems to be much more gradual relative to PM2.5. Finally,
Ozone does not appear to be increasing or decreasing over the time
period, but further analysis is needed to confirm this trend.</p>
<div id="histogram-of-levels-of-no2-o3-and-pm2.5-by-year"
class="section level3">
<h3>Histogram of levels of NO2, O3 and PM2.5 by year</h3>
<pre class="r"><code>all_years = sort(unique(c(as.numeric(df_histo_pm2.5$year),
                           as.numeric(df_histo_NO2$year),
                           as.numeric(df_histo_ozone$year))))

combined_fig = plot_ly()


pollutants_data = list(df_histo_pm2.5, df_histo_NO2, df_histo_ozone)
pollutant_names = c(&quot;PM2.5&quot;, &quot;NO2&quot;, &quot;O3&quot;)
pollutant_units = c(&quot;PM2.5 Concentration (mcg/m3)&quot;, &quot;NO2 Concentration (ppb)&quot;, &quot;O3 Concentration (ppb)&quot;)


for(i in seq_along(pollutants_data)) {

  for(year_value in all_years) {
    year_data = filter(pollutants_data[[i]], year == as.character(year_value))
    combined_fig = combined_fig |&gt;
      add_histogram(data = year_data, 
                    x = ~data_value, 
                    name = as.character(year_value),
                    marker = list(opacity = 0.6),
                    visible = i == 1) 
  }
}

num_years = length(all_years)
buttons = lapply(seq_along(pollutants_data), function(i) {
  visibility = c(rep(FALSE, num_years * (i - 1)), 
                 rep(TRUE, num_years), 
                 rep(FALSE, num_years * (length(pollutants_data) - i)))
  list(method = &quot;update&quot;,
       args = list(list(&quot;visible&quot; = visibility),
                   list(&quot;title&quot; = paste(pollutant_names[i], &quot;Concentration&quot;),
                        &quot;xaxis.title&quot; = pollutant_units[i])),
       label = pollutant_names[i])
})

combined_fig = combined_fig |&gt;
  layout(title = &quot;Comparison of Pollutant Concentrations&quot;,
         barmode = &quot;overlay&quot;,
         xaxis = list(title = &quot;Concentration&quot;),
         yaxis = list(title = &#39;Count of Measurements&#39;),
         updatemenus = list(list(type = &quot;dropdown&quot;, buttons = buttons)))

combined_fig</code></pre>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-a2a9e61c03aecbf28a60" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-a2a9e61c03aecbf28a60">{"x":{"visdat":{"10c385e97f265":["function () ","plotlyVisDat"],"10c3849aaf567":["function () ","data"],"10c3876d562f9":["function () ","data"],"10c3833550662":["function () ","data"],"10c3813162642":["function () ","data"],"10c381329c0d8":["function () ","data"],"10c381a33aebc":["function () ","data"],"10c383714c614":["function () ","data"],"10c3834d8674c":["function () ","data"],"10c386b65c9ae":["function () ","data"],"10c38679bf597":["function () ","data"],"10c383018c1a5":["function () ","data"],"10c382951504e":["function () ","data"],"10c38196f4613":["function () ","data"],"10c3858619670":["function () ","data"],"10c386edbc064":["function () ","data"],"10c381d341e18":["function () ","data"],"10c3848a3c8a2":["function () ","data"],"10c3878c928ef":["function () ","data"],"10c385e9ea0dc":["function () ","data"],"10c3852fc0c":["function () ","data"],"10c38482177fe":["function () ","data"],"10c38d4ce9b1":["function () ","data"],"10c3834826a49":["function () ","data"],"10c385e0ff98d":["function () ","data"],"10c386ac8c839":["function () ","data"],"10c3823d14cf4":["function () ","data"],"10c38213398b":["function () ","data"],"10c383c26d5bd":["function () ","data"],"10c38199a8a25":["function () ","data"],"10c3870e39044":["function () ","data"],"10c386c149a42":["function () ","data"],"10c383c9b9a7d":["function () ","data"],"10c38bbba3a1":["function () ","data"],"10c384bf3a50b":["function () ","data"],"10c3868d89c21":["function () ","data"],"10c3864f2704d":["function () ","data"]},"cur_data":"10c3864f2704d","attrs":{"10c3849aaf567":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2010","marker":{"opacity":0.59999999999999998},"visible":true,"inherit":true},"10c3876d562f9":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2011","marker":{"opacity":0.59999999999999998},"visible":true,"inherit":true},"10c3833550662":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2012","marker":{"opacity":0.59999999999999998},"visible":true,"inherit":true},"10c3813162642":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2013","marker":{"opacity":0.59999999999999998},"visible":true,"inherit":true},"10c381329c0d8":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2014","marker":{"opacity":0.59999999999999998},"visible":true,"inherit":true},"10c381a33aebc":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2015","marker":{"opacity":0.59999999999999998},"visible":true,"inherit":true},"10c383714c614":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2016","marker":{"opacity":0.59999999999999998},"visible":true,"inherit":true},"10c3834d8674c":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2017","marker":{"opacity":0.59999999999999998},"visible":true,"inherit":true},"10c386b65c9ae":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2018","marker":{"opacity":0.59999999999999998},"visible":true,"inherit":true},"10c38679bf597":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2019","marker":{"opacity":0.59999999999999998},"visible":true,"inherit":true},"10c383018c1a5":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2020","marker":{"opacity":0.59999999999999998},"visible":true,"inherit":true},"10c382951504e":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2021","marker":{"opacity":0.59999999999999998},"visible":true,"inherit":true},"10c38196f4613":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2010","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c3858619670":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2011","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c386edbc064":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2012","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c381d341e18":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2013","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c3848a3c8a2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2014","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c3878c928ef":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2015","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c385e9ea0dc":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2016","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c3852fc0c":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2017","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c38482177fe":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2018","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c38d4ce9b1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2019","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c3834826a49":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2020","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c385e0ff98d":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2021","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c386ac8c839":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2010","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c3823d14cf4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2011","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c38213398b":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2012","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c383c26d5bd":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2013","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c38199a8a25":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2014","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c3870e39044":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2015","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c386c149a42":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2016","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c383c9b9a7d":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2017","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c38bbba3a1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2018","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c384bf3a50b":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2019","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c3868d89c21":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2020","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true},"10c3864f2704d":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"2021","marker":{"opacity":0.59999999999999998},"visible":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Comparison of Pollutant Concentrations","barmode":"overlay","xaxis":{"domain":[0,1],"automargin":true,"title":"Concentration"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Count of Measurements"},"updatemenus":[{"type":"dropdown","buttons":[{"method":"update","args":[{"visible":[true,true,true,true,true,true,true,true,true,true,true,true,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]},{"title":"PM2.5 Concentration","xaxis.title":"PM2.5 Concentration (mcg/m3)"}],"label":"PM2.5"},{"method":"update","args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,true,true,true,true,true,true,true,true,true,true,true,true,false,false,false,false,false,false,false,false,false,false,false,false]},{"title":"NO2 Concentration","xaxis.title":"NO2 Concentration (ppb)"}],"label":"NO2"},{"method":"update","args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,true,true,true,true,true,true,true,true,true,true,true]},{"title":"O3 Concentration","xaxis.title":"O3 Concentration (ppb)"}],"label":"O3"}]}],"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[10.49,10.57,9.6500000000000004,13.210000000000001,10.210000000000001,10.26,9.1199999999999992,9.5199999999999996,8.9900000000000002,10.050000000000001,9.0199999999999996,9.1899999999999995,9.25,12.19,10.869999999999999,8.8900000000000006,8.6400000000000006,9.25,7.9900000000000002,9.1799999999999997,8.6500000000000004,9.8900000000000006,11.56,11.01,8.7100000000000009,10.619999999999999,10.41,9.6099999999999994,10.710000000000001,14.24,9.8000000000000007,8.9800000000000004,9.3399999999999999,11.83,9.9299999999999997,10.48,10.09,10.33,11,10.99,9.7899999999999991,9.6799999999999997],"type":"histogram","name":"2010","marker":{"color":"rgba(31,119,180,1)","opacity":0.59999999999999998,"line":{"color":"rgba(31,119,180,1)"}},"visible":true,"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[10.050000000000001,11.44,9.9499999999999993,11.119999999999999,9.6300000000000008,9.5700000000000003,9.7300000000000004,11.02,8.4399999999999995,9.4299999999999997,9.7400000000000002,9.3599999999999994,10.6,11.130000000000001,9.1699999999999999,12.039999999999999,13.93,10.15,12.279999999999999,10.09,11.49,9.2899999999999991,10.07,11.119999999999999,9.7100000000000009,10.880000000000001,11.51,11.44,9.7799999999999994,11.24,9.5500000000000007,9.4399999999999995,10.65,13.27,11.140000000000001,10.48,12.1,10.84,10.289999999999999,10.77,11.449999999999999,10.5],"type":"histogram","name":"2011","marker":{"color":"rgba(255,127,14,1)","opacity":0.59999999999999998,"line":{"color":"rgba(255,127,14,1)"}},"visible":true,"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[9.5899999999999999,8.9000000000000004,8.5199999999999996,9.1099999999999994,10.26,8.6300000000000008,8.8300000000000001,8.9800000000000004,8.3699999999999992,10.99,10.35,8.3200000000000003,8.4800000000000004,8.5500000000000007,9.8399999999999999,7.3600000000000003,8.0399999999999991,8.1799999999999997,9.4600000000000009,9.9900000000000002,12.42,9.9800000000000004,11.19,10.27,13.23,11.32,8.8900000000000006,8.2799999999999994,8.5500000000000007,9.6999999999999993,10.460000000000001,9.8900000000000006,9.2699999999999996,9.1300000000000008,9.4700000000000006,10.02,8.5999999999999996,8.3000000000000007,10.220000000000001,9.9000000000000004,8.9399999999999995,9.2300000000000004],"type":"histogram","name":"2012","marker":{"color":"rgba(44,160,44,1)","opacity":0.59999999999999998,"line":{"color":"rgba(44,160,44,1)"}},"visible":true,"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[8.6899999999999995,9.0600000000000005,8.5999999999999996,10.81,9.5999999999999996,9.7300000000000004,8.2200000000000006,10.15,7.8499999999999996,7.6100000000000003,8.2100000000000009,8.5099999999999998,8.2699999999999996,8.1400000000000006,8.2699999999999996,7.9000000000000004,9.1300000000000008,9.6999999999999993,11.06,12.41,13.199999999999999,8.3900000000000006,8.4900000000000002,10.35,7.8200000000000003,8.0800000000000001,10,9.3599999999999994,11.1,9.4800000000000004,8.2400000000000002,8.1099999999999994,9.1199999999999992,8.75,9.5700000000000003,8.1799999999999997,8.8800000000000008,8.7300000000000004,9.8300000000000001,8.7400000000000002,9.75,9.4600000000000009],"type":"histogram","name":"2013","marker":{"color":"rgba(214,39,40,1)","opacity":0.59999999999999998,"line":{"color":"rgba(214,39,40,1)"}},"visible":true,"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[8.9700000000000006,9.6300000000000008,9.8200000000000003,8.8699999999999992,9.4900000000000002,9.9900000000000002,8.9700000000000006,8.6500000000000004,8.8499999999999996,9.8399999999999999,8.6799999999999997,7.6900000000000004,8.6199999999999992,8.0199999999999996,8.7899999999999991,9.7300000000000004,8.3399999999999999,8.4299999999999997,9.9800000000000004,8.4600000000000009,8.3900000000000006,12.529999999999999,11.17,13.23,10.42,8.1999999999999993,11.359999999999999,10.529999999999999,8.3100000000000005,8.3699999999999992,9.4700000000000006,11.15,10.539999999999999,9.75,9,9.1600000000000001,9.1899999999999995,9,9.8399999999999999,9.8699999999999992,8.4800000000000004,9.0399999999999991],"type":"histogram","name":"2014","marker":{"color":"rgba(148,103,189,1)","opacity":0.59999999999999998,"line":{"color":"rgba(148,103,189,1)"}},"visible":true,"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[11.390000000000001,9.5999999999999996,8.1899999999999995,9.1699999999999999,10.199999999999999,8.0099999999999998,11.720000000000001,10.6,9.3599999999999994,9.7799999999999994,7.1600000000000001,7.9000000000000004,8.1999999999999993,8.0500000000000007,8.5099999999999998,9.1699999999999999,7.8200000000000003,8.3399999999999999,9.3599999999999994,9.5099999999999998,10.539999999999999,10.06,7.7199999999999998,7.29,8.4399999999999995,8.2599999999999998,9.6099999999999994,8.5899999999999999,8.1300000000000008,9.6199999999999992,10.49,9.1300000000000008,8.4499999999999993,9.4499999999999993,9.6699999999999999,8.8699999999999992,9.1400000000000006,9.8900000000000006,8.0999999999999996,9.7799999999999994,8.7200000000000006,8.9299999999999997],"type":"histogram","name":"2015","marker":{"color":"rgba(140,86,75,1)","opacity":0.59999999999999998,"line":{"color":"rgba(140,86,75,1)"}},"visible":true,"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[7.9500000000000002,7.0300000000000002,7.0999999999999996,7.5599999999999996,7.2199999999999998,7.8099999999999996,7.1200000000000001,7.2999999999999998,10.76,9.5199999999999996,6.9900000000000002,10.32,8.8599999999999994,8.6500000000000004,7.0199999999999996,6.7999999999999998,8.1400000000000006,6.5099999999999998,8.1899999999999995,5.9800000000000004,9.5299999999999994,6.75,7.4500000000000002,8.6699999999999999,6.5899999999999999,6.8799999999999999,9.4600000000000009,9.0700000000000003,8.4000000000000004,7.6399999999999997,8.2599999999999998,8.1799999999999997,9.0199999999999996,7.1100000000000003,7.9400000000000004,7.5,8.1600000000000001,7.5499999999999998,7.5700000000000003,8.4900000000000002,7.5,7.7999999999999998],"type":"histogram","name":"2016","marker":{"color":"rgba(227,119,194,1)","opacity":0.59999999999999998,"line":{"color":"rgba(227,119,194,1)"}},"visible":true,"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[8.9800000000000004,7.5300000000000002,8.0899999999999999,7.5199999999999996,8.3499999999999996,8.1600000000000001,8.8499999999999996,10.33,6.9400000000000004,7.4100000000000001,7.0499999999999998,7.0499999999999998,7.2699999999999996,7.3200000000000003,7.2699999999999996,7.0800000000000001,6.75,6.3200000000000003,7.1900000000000004,6.7999999999999998,8.4199999999999999,7.9299999999999997,7.9299999999999997,9.9100000000000001,9.0099999999999998,8.5199999999999996,9.0199999999999996,7.3600000000000003,6.8300000000000001,6.5800000000000001,7.0300000000000002,8.2200000000000006,7.79,8.1099999999999994,7.0599999999999996,8.2599999999999998,8.3300000000000001,7.0199999999999996,8.1600000000000001,7.5199999999999996,7.5199999999999996,7.46],"type":"histogram","name":"2017","marker":{"color":"rgba(127,127,127,1)","opacity":0.59999999999999998,"line":{"color":"rgba(127,127,127,1)"}},"visible":true,"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[7.8499999999999996,7.2699999999999996,7.7199999999999998,6.9900000000000002,6.5499999999999998,8.6799999999999997,6.9000000000000004,6.6299999999999999,6.9900000000000002,6.9500000000000002,7.3200000000000003,6.7800000000000002,7.04,6.5599999999999996,6.6900000000000004,7.5300000000000002,9.9700000000000006,8.1600000000000001,6.3600000000000003,7.5700000000000003,6.9900000000000002,7.3899999999999997,6.4199999999999999,6.0599999999999996,8.9399999999999995,8.1400000000000006,10.300000000000001,8.7899999999999991,6.5499999999999998,6.6699999999999999,7,6.1799999999999997,6.4800000000000004,8.1099999999999994,8.7200000000000006,7.8499999999999996,7.6799999999999997,6.7000000000000002,7.1900000000000004,7.5300000000000002,8.1600000000000001,7.0599999999999996],"type":"histogram","name":"2018","marker":{"color":"rgba(188,189,34,1)","opacity":0.59999999999999998,"line":{"color":"rgba(188,189,34,1)"}},"visible":true,"error_y":{"color":"rgba(188,189,34,1)"},"error_x":{"color":"rgba(188,189,34,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[6.7000000000000002,8.5600000000000005,7.5199999999999996,7.2300000000000004,6.1500000000000004,6.1900000000000004,7.3499999999999996,10.210000000000001,6.1600000000000001,6.0099999999999998,5.5899999999999999,5.96,6.5599999999999996,6.3399999999999999,6.2400000000000002,7.9900000000000002,8.2300000000000004,9.6500000000000004,10.09,7,6.6100000000000003,7.1100000000000003,8.8699999999999992,5.9000000000000004,7.4400000000000004,6.04,6.21,8,6.3099999999999996,6.3200000000000003,7.3200000000000003,6.6100000000000003,7.1100000000000003,6.71,6.6799999999999997,7.3799999999999999,7.1399999999999997,5.8099999999999996,6.21,7.5,6.5599999999999996,6.7400000000000002],"type":"histogram","name":"2019","marker":{"color":"rgba(23,190,207,1)","opacity":0.59999999999999998,"line":{"color":"rgba(23,190,207,1)"}},"visible":true,"error_y":{"color":"rgba(23,190,207,1)"},"error_x":{"color":"rgba(23,190,207,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[6.2800000000000002,8.5,6.2400000000000002,6.3499999999999996,5.9500000000000002,5.8899999999999997,6.3700000000000001,5.6200000000000001,6.1100000000000003,8.1799999999999997,8.2200000000000006,5.9100000000000001,6.29,5.7000000000000002,5.7800000000000002,5.3300000000000001,5.9699999999999998,5.9299999999999997,5.7000000000000002,6.5599999999999996,7.4199999999999999,6.6900000000000004,7.7599999999999998,5.9400000000000004,6.3499999999999996,6.8300000000000001,5.3399999999999999,6,6.7199999999999998,7.04,5.9699999999999998,6.3600000000000003,5.9299999999999997,5.9500000000000002,6.7199999999999998,6.2000000000000002,6.4699999999999998,6,6.1200000000000001,5.6900000000000004,6.0199999999999996,6.1200000000000001],"type":"histogram","name":"2020","marker":{"color":"rgba(31,119,180,1)","opacity":0.59999999999999998,"line":{"color":"rgba(31,119,180,1)"}},"visible":true,"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[6.9800000000000004,7.6699999999999999,6.5800000000000001,8.2200000000000006,6.8600000000000003,8.4399999999999995,6.4299999999999997,6.4299999999999997,6.7800000000000002,6.2699999999999996,6.2300000000000004,6.4500000000000002,7.1399999999999997,6.2999999999999998,7.2000000000000002,6.3700000000000001,5.9199999999999999,6.25,6.1799999999999997,6.54,7.5800000000000001,7.7999999999999998,7.0999999999999996,6.79,8.1500000000000004,6.2699999999999996,6.4400000000000004,7.25,7.0199999999999996,6.2699999999999996,6.7999999999999998,6.04,6.29,6.6100000000000003,6.6299999999999999,6.4299999999999997,6.9900000000000002,6.5499999999999998,6.79,6.5700000000000003,6.4900000000000002,6.5999999999999996],"type":"histogram","name":"2021","marker":{"color":"rgba(255,127,14,1)","opacity":0.59999999999999998,"line":{"color":"rgba(255,127,14,1)"}},"visible":true,"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[23.43,19.010000000000002,24.32,17.379999999999999,16,21.699999999999999,21.219999999999999,19.100000000000001,14.07,19.789999999999999,21.670000000000002,22.609999999999999,21.48,33.479999999999997,29.989999999999998,24.18,27.07,21.48,27.829999999999998,36.030000000000001,31.800000000000001,39.170000000000002,23.640000000000001,31.02,25.219999999999999,24.100000000000001,23.77,25.079999999999998,19.100000000000001,26.379999999999999,25.170000000000002,22.059999999999999,25.25,20.129999999999999,26.460000000000001,20.210000000000001,19.23,13.050000000000001,25.309999999999999,28.66,22.489999999999998,21.039999999999999],"type":"histogram","name":"2010","marker":{"color":"rgba(44,160,44,1)","opacity":0.59999999999999998,"line":{"color":"rgba(44,160,44,1)"}},"visible":false,"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[29.300000000000001,20.789999999999999,23.32,21.620000000000001,23.559999999999999,22.210000000000001,30.449999999999999,23.260000000000002,17.170000000000002,21.539999999999999,18.289999999999999,14.27,21.120000000000001,19.289999999999999,22.100000000000001,28.23,36.329999999999998,33.5,32.25,39.18,25.239999999999998,21.940000000000001,27.649999999999999,31.52,24.960000000000001,19.48,13.5,23.859999999999999,24.579999999999998,18.98,26.670000000000002,25.300000000000001,22.609999999999999,25.57,25.559999999999999,25.84,21.059999999999999,19.210000000000001,26.640000000000001,25.75,22.899999999999999,21.609999999999999],"type":"histogram","name":"2011","marker":{"color":"rgba(214,39,40,1)","opacity":0.59999999999999998,"line":{"color":"rgba(214,39,40,1)"}},"visible":false,"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[20.010000000000002,20.670000000000002,20.870000000000001,17.34,23.149999999999999,20.02,25.32,16.010000000000002,19.780000000000001,25.760000000000002,34.329999999999998,15.31,20.989999999999998,19.829999999999998,18.780000000000001,23.140000000000001,22.780000000000001,19.350000000000001,29.98,37.289999999999999,13.119999999999999,28.23,31.07,19.27,27.079999999999998,12.470000000000001,17.460000000000001,23.43,21.16,23.629999999999999,19.050000000000001,29.5,21.09,22.879999999999999,21.010000000000002,22.27,17.210000000000001,23.98,17.219999999999999,24.23,23.420000000000002,19.940000000000001],"type":"histogram","name":"2012","marker":{"color":"rgba(148,103,189,1)","opacity":0.59999999999999998,"line":{"color":"rgba(148,103,189,1)"}},"visible":false,"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[20.23,23.73,16.359999999999999,21.539999999999999,19.030000000000001,16.800000000000001,19.649999999999999,36.079999999999998,26.5,11.51,15.4,20.300000000000001,14.69,12.67,18.379999999999999,25.359999999999999,33.350000000000001,18.710000000000001,24.75,28.59,22.300000000000001,21.890000000000001,18.960000000000001,29.190000000000001,20.57,27.390000000000001,30.260000000000002,18.579999999999998,22.789999999999999,22.850000000000001,20.59,16.41,22.719999999999999,18.23,22.280000000000001,19.890000000000001,16.649999999999999,22.670000000000002,18.370000000000001,23.41,20.190000000000001,18.579999999999998],"type":"histogram","name":"2013","marker":{"color":"rgba(140,86,75,1)","opacity":0.59999999999999998,"line":{"color":"rgba(140,86,75,1)"}},"visible":false,"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[17.629999999999999,17,19.75,23.859999999999999,23.760000000000002,20,19.260000000000002,34.740000000000002,14.56,13.77,17.539999999999999,15.529999999999999,19.190000000000001,26.449999999999999,17.280000000000001,18.809999999999999,22.07,28.870000000000001,31.899999999999999,19.460000000000001,27.989999999999998,21.870000000000001,19.100000000000001,21.120000000000001,27.620000000000001,20.41,22.43,20.469999999999999,20.23,19.440000000000001,21.75,21.140000000000001,12.59,17.440000000000001,17.100000000000001,22.559999999999999,21.870000000000001,18.969999999999999,22.199999999999999,25.100000000000001,22.670000000000002,19.260000000000002],"type":"histogram","name":"2014","marker":{"color":"rgba(227,119,194,1)","opacity":0.59999999999999998,"line":{"color":"rgba(227,119,194,1)"}},"visible":false,"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[22.280000000000001,19.739999999999998,17.079999999999998,17.16,21.140000000000001,21.390000000000001,21.109999999999999,31.23,26.27,18.780000000000001,14.210000000000001,18.68,15.279999999999999,19.09,17.359999999999999,18.420000000000002,13.550000000000001,19.25,22.989999999999998,29.170000000000002,23.149999999999999,24.84,26.609999999999999,25.670000000000002,18.620000000000001,17.300000000000001,11.91,21.27,23.859999999999999,19.719999999999999,19.710000000000001,20.91,19.760000000000002,21.84,20.829999999999998,21.690000000000001,17.82,19.52,16.52,21.870000000000001,19.09,19.359999999999999],"type":"histogram","name":"2015","marker":{"color":"rgba(127,127,127,1)","opacity":0.59999999999999998,"line":{"color":"rgba(127,127,127,1)"}},"visible":false,"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[17.52,22.190000000000001,16.039999999999999,19.91,17.800000000000001,18.09,18.649999999999999,14.109999999999999,18.239999999999998,17.469999999999999,14.93,11.720000000000001,28.359999999999999,20.91,20.530000000000001,22.190000000000001,17.559999999999999,19.850000000000001,25.93,30.140000000000001,24.489999999999998,16.16,26.149999999999999,17.780000000000001,15.619999999999999,16.43,11.52,20.82,23.149999999999999,24.809999999999999,18.870000000000001,18.859999999999999,21.440000000000001,19.32,20.370000000000001,15.300000000000001,21.079999999999998,20.199999999999999,17.93,21.649999999999999,18.260000000000002,17.920000000000002],"type":"histogram","name":"2016","marker":{"color":"rgba(188,189,34,1)","opacity":0.59999999999999998,"line":{"color":"rgba(188,189,34,1)"}},"visible":false,"error_y":{"color":"rgba(188,189,34,1)"},"error_x":{"color":"rgba(188,189,34,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[21.190000000000001,16.98,22.640000000000001,30.309999999999999,18.109999999999999,18.649999999999999,13.859999999999999,17.949999999999999,12.66,24.199999999999999,14.630000000000001,28.460000000000001,18.5,25.039999999999999,22.41,20.989999999999998,20.559999999999999,20.559999999999999,17.690000000000001,25.620000000000001,16.440000000000001,25.82,16.079999999999998,11.699999999999999,18.829999999999998,21.120000000000001,18.870000000000001,18.809999999999999,20.390000000000001,16.59,20.690000000000001,23.390000000000001,18.309999999999999,17.280000000000001,20.079999999999998,21.66,17.690000000000001,15.640000000000001,18.870000000000001,21.120000000000001,19.149999999999999,18.719999999999999],"type":"histogram","name":"2017","marker":{"color":"rgba(23,190,207,1)","opacity":0.59999999999999998,"line":{"color":"rgba(23,190,207,1)"}},"visible":false,"error_y":{"color":"rgba(23,190,207,1)"},"error_x":{"color":"rgba(23,190,207,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[19.420000000000002,19.670000000000002,17.629999999999999,21.140000000000001,16.16,17.34,20.829999999999998,16.859999999999999,10.52,16.77,13.57,17.940000000000001,17.190000000000001,14.26,27.57,21.66,20.890000000000001,19.899999999999999,20.91,17.550000000000001,24.789999999999999,28.690000000000001,22.940000000000001,16.210000000000001,25.149999999999999,14.35,15.77,11.050000000000001,20.949999999999999,22.219999999999999,19.73,23.420000000000002,17.899999999999999,17.559999999999999,21.93,20.23,18.109999999999999,14.48,19.760000000000002,17.25,15.77,16.890000000000001],"type":"histogram","name":"2018","marker":{"color":"rgba(31,119,180,1)","opacity":0.59999999999999998,"line":{"color":"rgba(31,119,180,1)"}},"visible":false,"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[21.399999999999999,18.460000000000001,18.75,15.17,16.66,10.039999999999999,16.27,13.140000000000001,15.130000000000001,23.559999999999999,19.670000000000002,20.800000000000001,15.73,20.239999999999998,14.67,18.670000000000002,13.33,12.210000000000001,16.239999999999998,14.5,15.51,26.219999999999999,15.359999999999999,26.02,16.260000000000002,19.399999999999999,24.170000000000002,21.57,19.699999999999999,19.98,17.27,13.5,22.129999999999999,13.5,15.699999999999999,18.760000000000002,17.690000000000001,17.640000000000001,10.23,14.17,15.81,15.470000000000001],"type":"histogram","name":"2019","marker":{"color":"rgba(255,127,14,1)","opacity":0.59999999999999998,"line":{"color":"rgba(255,127,14,1)"}},"visible":false,"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[16.190000000000001,19.620000000000001,19.629999999999999,16.77,16.98,18.5,15.59,14.15,21.32,14.4,11.779999999999999,15.74,14.75,10.550000000000001,14.24,23.870000000000001,18.989999999999998,13.02,21.550000000000001,19.690000000000001,24.27,18.940000000000001,20.890000000000001,18.77,13.779999999999999,18.079999999999998,12.56,17.789999999999999,10.56,13.16,15.74,18.5,16.07,16,18.43,14.81,18.920000000000002,17.100000000000001,15.9,18.260000000000002,13.76,16.75],"type":"histogram","name":"2020","marker":{"color":"rgba(44,160,44,1)","opacity":0.59999999999999998,"line":{"color":"rgba(44,160,44,1)"}},"visible":false,"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[18.039999999999999,11.41,18.52,20.550000000000001,16.030000000000001,18.280000000000001,18.780000000000001,14.25,21.300000000000001,19.170000000000002,18.559999999999999,14.279999999999999,14.9,16.039999999999999,15.1,16.030000000000001,15.66,23.32,18.210000000000001,15.66,13.26,20.309999999999999,19,15.300000000000001,23.539999999999999,21.489999999999998,19.550000000000001,14.68,16.739999999999998,11.300000000000001,17.100000000000001,14.279999999999999,16.379999999999999,18.030000000000001,13.91,16.120000000000001,19.039999999999999,17.120000000000001,17.640000000000001,14.77,15.98,16.010000000000002],"type":"histogram","name":"2021","marker":{"color":"rgba(214,39,40,1)","opacity":0.59999999999999998,"line":{"color":"rgba(214,39,40,1)"}},"visible":false,"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[32.710000000000001,32.530000000000001,34.289999999999999,33.520000000000003,34.039999999999999,31.91,34.299999999999997,29.75,25.620000000000001,33.32,33.990000000000002,32.740000000000002,27.870000000000001,38.979999999999997,28.379999999999999,36.520000000000003,34.310000000000002,33.170000000000002,36.530000000000001,28.68,33.509999999999998,32.380000000000003,34.450000000000003,30.52,32.270000000000003,33.329999999999998,23.899999999999999,26.890000000000001,34.5,33.009999999999998,30.539999999999999,33.340000000000003,33.229999999999997,32.539999999999999,33.380000000000003,31.25,36.119999999999997,33.960000000000001,30.940000000000001,28.210000000000001,31.629999999999999,33.969999999999999],"type":"histogram","name":"2010","marker":{"color":"rgba(148,103,189,1)","opacity":0.59999999999999998,"line":{"color":"rgba(148,103,189,1)"}},"visible":false,"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[29.539999999999999,32.93,33.920000000000002,33.590000000000003,33.439999999999998,33.630000000000003,33.170000000000002,32.969999999999999,31.02,35.909999999999997,32.950000000000003,26.210000000000001,32.700000000000003,39.030000000000001,26.940000000000001,36.560000000000002,33,35.93,33.030000000000001,27.890000000000001,31.539999999999999,33.130000000000003,30.25,31.5,22.59,25.07,33.850000000000001,32.659999999999997,30.129999999999999,32.670000000000002,33.420000000000002,24.199999999999999,29.399999999999999,31.609999999999999,31.239999999999998,31.120000000000001,31.43,32.079999999999998,27.52,31.460000000000001,33.5,34.240000000000002],"type":"histogram","name":"2011","marker":{"color":"rgba(140,86,75,1)","opacity":0.59999999999999998,"line":{"color":"rgba(140,86,75,1)"}},"visible":false,"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[33.380000000000003,32.119999999999997,32.759999999999998,33.299999999999997,31.059999999999999,34.149999999999999,33.140000000000001,34.810000000000002,37.079999999999998,33.350000000000001,34.280000000000001,40.299999999999997,34.460000000000001,33.579999999999998,33.780000000000001,27.850000000000001,28.41,35.270000000000003,30.170000000000002,33.840000000000003,32.280000000000001,26,32.25,32.289999999999999,33.380000000000003,24.050000000000001,31.710000000000001,33.909999999999997,32.659999999999997,26.440000000000001,34.079999999999998,34.979999999999997,36.600000000000001,32.729999999999997,33.719999999999999,35.090000000000003,30.66,33.229999999999997,29.239999999999998,33.420000000000002,33.969999999999999,35.439999999999998],"type":"histogram","name":"2012","marker":{"color":"rgba(227,119,194,1)","opacity":0.59999999999999998,"line":{"color":"rgba(227,119,194,1)"}},"visible":false,"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[31.68,28.399999999999999,30.789999999999999,31.43,30.77,28.870000000000001,26.32,28.84,31.68,30.609999999999999,31.789999999999999,33.880000000000003,30.609999999999999,36.840000000000003,30.68,31.120000000000001,25.219999999999999,24.260000000000002,32.060000000000002,29.699999999999999,32.659999999999997,30.760000000000002,26.93,30.670000000000002,30.48,29.670000000000002,30.73,21.93,23.530000000000001,30.620000000000001,29.34,29.66,25.73,31.440000000000001,31.59,33.700000000000003,29.77,30.370000000000001,28.039999999999999,29.920000000000002,30.149999999999999,31.510000000000002],"type":"histogram","name":"2013","marker":{"color":"rgba(127,127,127,1)","opacity":0.59999999999999998,"line":{"color":"rgba(127,127,127,1)"}},"visible":false,"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[32.509999999999998,32.630000000000003,22.890000000000001,26.66,31.800000000000001,32.009999999999998,31.329999999999998,28.920000000000002,30.68,36.25,26.93,33.600000000000001,32.609999999999999,30.23,31.140000000000001,30.870000000000001,31.93,31.960000000000001,32.259999999999998,27.399999999999999,30.41,31.129999999999999,30.600000000000001,30.329999999999998,30.699999999999999,26.66,30.07,30.940000000000001,33.25,31.41,25.98,31.32,29.91,24.609999999999999,28.579999999999998,31.489999999999998,29.32,30.710000000000001,29.52,30.469999999999999,30.449999999999999,31.969999999999999],"type":"histogram","name":"2014","marker":{"color":"rgba(188,189,34,1)","opacity":0.59999999999999998,"line":{"color":"rgba(188,189,34,1)"}},"visible":false,"error_y":{"color":"rgba(188,189,34,1)"},"error_x":{"color":"rgba(188,189,34,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[31.530000000000001,31.18,31.66,32.590000000000003,31.84,35.009999999999998,29.989999999999998,37.439999999999998,31.809999999999999,28.07,31.879999999999999,27.350000000000001,31.57,32.509999999999998,32.039999999999999,32.200000000000003,34.700000000000003,31.66,29.579999999999998,29.649999999999999,26.109999999999999,31.43,28.949999999999999,30.969999999999999,28.719999999999999,27.73,26.98,32.829999999999998,32.140000000000001,28.98,29.93,29.760000000000002,31.27,34.07,28.120000000000001,25.059999999999999,29.93,31.289999999999999,29.530000000000001,31.100000000000001,31.41,32.579999999999998],"type":"histogram","name":"2015","marker":{"color":"rgba(23,190,207,1)","opacity":0.59999999999999998,"line":{"color":"rgba(23,190,207,1)"}},"visible":false,"error_y":{"color":"rgba(23,190,207,1)"},"error_x":{"color":"rgba(23,190,207,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[31.98,33.159999999999997,32.960000000000001,33.57,34.340000000000003,31.920000000000002,33.149999999999999,34.18,33.479999999999997,30.170000000000002,33.439999999999998,33.420000000000002,35.789999999999999,33.859999999999999,30.030000000000001,27.510000000000002,34.25,38.18,30.140000000000001,34.299999999999997,35.619999999999997,32.990000000000002,33.119999999999997,36.170000000000002,30.539999999999999,32.990000000000002,34.68,31.620000000000001,33.659999999999997,29.73,28.760000000000002,31.350000000000001,32.460000000000001,33.539999999999999,32.340000000000003,33.210000000000001,32.310000000000002,32.979999999999997,33.280000000000001,32.780000000000001,33.630000000000003,34.259999999999998],"type":"histogram","name":"2016","marker":{"color":"rgba(31,119,180,1)","opacity":0.59999999999999998,"line":{"color":"rgba(31,119,180,1)"}},"visible":false,"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[29.390000000000001,27.800000000000001,30.059999999999999,31.16,31.719999999999999,28.98,30.07,29.010000000000002,27.949999999999999,29.440000000000001,27.530000000000001,28.829999999999998,30.260000000000002,29.719999999999999,30.050000000000001,27,35.189999999999998,25.579999999999998,30.93,22.120000000000001,31.859999999999999,25.23,28.949999999999999,29.120000000000001,23.43,24.66,30.129999999999999,29.41,26.91,26.510000000000002,27.920000000000002,26.920000000000002,29.329999999999998,32.450000000000003,29.260000000000002,28.34,25.239999999999998,27.719999999999999,30.27,30.899999999999999,29.789999999999999,25.57],"type":"histogram","name":"2017","marker":{"color":"rgba(255,127,14,1)","opacity":0.59999999999999998,"line":{"color":"rgba(255,127,14,1)"}},"visible":false,"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[30.199999999999999,30.960000000000001,31.030000000000001,31.93,28.949999999999999,28.48,29.890000000000001,31.280000000000001,30.440000000000001,30.329999999999998,31.710000000000001,31.82,35.18,26.82,26.969999999999999,31.329999999999998,32.5,23.989999999999998,26.350000000000001,30.34,29.66,24.809999999999999,29.359999999999999,25.920000000000002,30.949999999999999,30.620000000000001,28.829999999999998,28.41,28.539999999999999,28.98,29.640000000000001,29.800000000000001,32.960000000000001,29.489999999999998,30.600000000000001,29.960000000000001,30.899999999999999,29.68,31.239999999999998,30.98,31.52,27.199999999999999],"type":"histogram","name":"2018","marker":{"color":"rgba(44,160,44,1)","opacity":0.59999999999999998,"line":{"color":"rgba(44,160,44,1)"}},"visible":false,"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[31.809999999999999,30.34,29.059999999999999,27.73,29.100000000000001,33.329999999999998,30.870000000000001,29.34,27.27,28.800000000000001,27.510000000000002,31.300000000000001,25.879999999999999,31.43,33.310000000000002,25.039999999999999,29.949999999999999,32.829999999999998,23.960000000000001,29.579999999999998,34.049999999999997,31.300000000000001,30.460000000000001,28.359999999999999,27.77,28.43,33.420000000000002,37.439999999999998,25.719999999999999,24.719999999999999,30.829999999999998,23.84,27.07,27.609999999999999,30.140000000000001,25.59,30.620000000000001,28.620000000000001,28.829999999999998,29.640000000000001,31.68,32.609999999999999],"type":"histogram","name":"2019","marker":{"color":"rgba(214,39,40,1)","opacity":0.59999999999999998,"line":{"color":"rgba(214,39,40,1)"}},"visible":false,"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[29.73,29.710000000000001,30.5,27.739999999999998,26.960000000000001,28.329999999999998,31.59,30.890000000000001,30.940000000000001,32.049999999999997,29.98,31.489999999999998,28.920000000000002,29.300000000000001,29.469999999999999,27.649999999999999,29.620000000000001,28.969999999999999,30.960000000000001,27.829999999999998,30.190000000000001,30.199999999999999,27.710000000000001,28.539999999999999,29.460000000000001,28.84,31.489999999999998,29.16,29.52,28.789999999999999,28.489999999999998,30.359999999999999,28.93,30.170000000000002,30.149999999999999,29.84,29.379999999999999,30.129999999999999,30.850000000000001,29.379999999999999,30.449999999999999,29.48],"type":"histogram","name":"2020","marker":{"color":"rgba(148,103,189,1)","opacity":0.59999999999999998,"line":{"color":"rgba(148,103,189,1)"}},"visible":false,"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[30.550000000000001,30.300000000000001,28.98,30.789999999999999,27.789999999999999,27.890000000000001,29.149999999999999,28.640000000000001,30.989999999999998,32.259999999999998,31.870000000000001,27.109999999999999,29.190000000000001,31.98,30.449999999999999,27.960000000000001,31.449999999999999,34.810000000000002,28.289999999999999,30.210000000000001,29.09,28.359999999999999,30.469999999999999,26.949999999999999,30.879999999999999,28.489999999999998,27.960000000000001,29.09,27.829999999999998,29.02,30,29.199999999999999,30.41,29.449999999999999,29,28.699999999999999,30.370000000000001,29.280000000000001,30.140000000000001,31.079999999999998,27.809999999999999,30.289999999999999],"type":"histogram","name":"2021","marker":{"color":"rgba(140,86,75,1)","opacity":0.59999999999999998,"line":{"color":"rgba(140,86,75,1)"}},"visible":false,"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="boxplots-of-levels-of-no2-o3-and-pm2.5-by-year"
class="section level3">
<h3>Boxplots of levels of NO2, O3 and PM2.5 by year</h3>
<pre class="r"><code>add_yearly_boxplots = function(data, years, name_prefix, visible) {
  for(year_value in years) {
    year_data = filter(data, year == as.character(year_value))
    combined_boxplot_fig &lt;&lt;- combined_boxplot_fig |&gt;
      add_trace(data = year_data, 
                y = ~data_value, 
                type = &#39;box&#39;,
                name = paste(name_prefix, year_value),
                visible = visible)
  }
}


combined_boxplot_fig = plot_ly()


add_yearly_boxplots(df_histo_pm2.5, all_years, &quot;PM2.5&quot;, TRUE)

add_yearly_boxplots(df_histo_NO2, all_years, &quot;NO2&quot;, FALSE)
add_yearly_boxplots(df_histo_ozone, all_years, &quot;O3&quot;, FALSE)


buttons = lapply(seq_along(pollutants_data), function(i) {
  visibility = c(rep(i == 1, num_years), rep(i == 2, num_years), rep(i == 3, num_years))
  list(
    method = &quot;update&quot;,
    args = list(
      list(&quot;visible&quot; = visibility),
      list(
        &quot;title&quot; = paste(pollutant_names[i], &quot;Concentration&quot;),
        &quot;yaxis.title&quot; = pollutant_units[i]
      )
    ),
    label = pollutant_names[i]
  )
})


combined_boxplot_fig = combined_boxplot_fig |&gt;
  layout(
    title = &quot;Comparison of Pollutant Concentrations (Boxplots)&quot;,
    yaxis = list(title = pollutant_units[1]), 
    updatemenus = list(list(type = &quot;dropdown&quot;, buttons = buttons))
  )

combined_boxplot_fig</code></pre>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-4641126c3b8d2862286f" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-4641126c3b8d2862286f">{"x":{"visdat":{"10c3833526c56":["function () ","plotlyVisDat"],"10c3868469c6c":["function () ","data"],"10c3873c7abef":["function () ","data"],"10c3839e9134b":["function () ","data"],"10c3874f1bea0":["function () ","data"],"10c382b1a365b":["function () ","data"],"10c3845e6a678":["function () ","data"],"10c3829bb3422":["function () ","data"],"10c38415bb995":["function () ","data"],"10c386cf506b8":["function () ","data"],"10c384a8c51ea":["function () ","data"],"10c384255ffe2":["function () ","data"],"10c381c127074":["function () ","data"],"10c387e94de11":["function () ","data"],"10c385f7f6f03":["function () ","data"],"10c3827515ef0":["function () ","data"],"10c384f2ff2ba":["function () ","data"],"10c3854e8b9f3":["function () ","data"],"10c387b082c11":["function () ","data"],"10c3855854f31":["function () ","data"],"10c38231245d4":["function () ","data"],"10c384a67349":["function () ","data"],"10c384bdac001":["function () ","data"],"10c38673a88f":["function () ","data"],"10c38133f4798":["function () ","data"],"10c381f755607":["function () ","data"],"10c385062f5b3":["function () ","data"],"10c3810f0e400":["function () ","data"],"10c383708c4b0":["function () ","data"],"10c3820a91b0a":["function () ","data"],"10c383e2e3e46":["function () ","data"],"10c384dfa858e":["function () ","data"],"10c387a5655a0":["function () ","data"],"10c383a0fba1f":["function () ","data"],"10c385e846700":["function () ","data"],"10c384686617a":["function () ","data"],"10c382069b4c2":["function () ","data"]},"cur_data":"10c382069b4c2","attrs":{"10c3868469c6c":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"PM2.5 2010","visible":true,"inherit":true},"10c3873c7abef":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"PM2.5 2011","visible":true,"inherit":true},"10c3839e9134b":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"PM2.5 2012","visible":true,"inherit":true},"10c3874f1bea0":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"PM2.5 2013","visible":true,"inherit":true},"10c382b1a365b":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"PM2.5 2014","visible":true,"inherit":true},"10c3845e6a678":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"PM2.5 2015","visible":true,"inherit":true},"10c3829bb3422":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"PM2.5 2016","visible":true,"inherit":true},"10c38415bb995":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"PM2.5 2017","visible":true,"inherit":true},"10c386cf506b8":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"PM2.5 2018","visible":true,"inherit":true},"10c384a8c51ea":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"PM2.5 2019","visible":true,"inherit":true},"10c384255ffe2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"PM2.5 2020","visible":true,"inherit":true},"10c381c127074":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"PM2.5 2021","visible":true,"inherit":true},"10c387e94de11":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"NO2 2010","visible":false,"inherit":true},"10c385f7f6f03":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"NO2 2011","visible":false,"inherit":true},"10c3827515ef0":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"NO2 2012","visible":false,"inherit":true},"10c384f2ff2ba":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"NO2 2013","visible":false,"inherit":true},"10c3854e8b9f3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"NO2 2014","visible":false,"inherit":true},"10c387b082c11":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"NO2 2015","visible":false,"inherit":true},"10c3855854f31":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"NO2 2016","visible":false,"inherit":true},"10c38231245d4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"NO2 2017","visible":false,"inherit":true},"10c384a67349":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"NO2 2018","visible":false,"inherit":true},"10c384bdac001":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"NO2 2019","visible":false,"inherit":true},"10c38673a88f":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"NO2 2020","visible":false,"inherit":true},"10c38133f4798":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"NO2 2021","visible":false,"inherit":true},"10c381f755607":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"O3 2010","visible":false,"inherit":true},"10c385062f5b3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"O3 2011","visible":false,"inherit":true},"10c3810f0e400":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"O3 2012","visible":false,"inherit":true},"10c383708c4b0":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"O3 2013","visible":false,"inherit":true},"10c3820a91b0a":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"O3 2014","visible":false,"inherit":true},"10c383e2e3e46":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"O3 2015","visible":false,"inherit":true},"10c384dfa858e":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"O3 2016","visible":false,"inherit":true},"10c387a5655a0":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"O3 2017","visible":false,"inherit":true},"10c383a0fba1f":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"O3 2018","visible":false,"inherit":true},"10c385e846700":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"O3 2019","visible":false,"inherit":true},"10c384686617a":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"O3 2020","visible":false,"inherit":true},"10c382069b4c2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","name":"O3 2021","visible":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Comparison of Pollutant Concentrations (Boxplots)","yaxis":{"domain":[0,1],"automargin":true,"title":"PM2.5 Concentration (mcg/m3)"},"updatemenus":[{"type":"dropdown","buttons":[{"method":"update","args":[{"visible":[true,true,true,true,true,true,true,true,true,true,true,true,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]},{"title":"PM2.5 Concentration","yaxis.title":"PM2.5 Concentration (mcg/m3)"}],"label":"PM2.5"},{"method":"update","args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,true,true,true,true,true,true,true,true,true,true,true,true,false,false,false,false,false,false,false,false,false,false,false,false]},{"title":"NO2 Concentration","yaxis.title":"NO2 Concentration (ppb)"}],"label":"NO2"},{"method":"update","args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,true,true,true,true,true,true,true,true,true,true,true]},{"title":"O3 Concentration","yaxis.title":"O3 Concentration (ppb)"}],"label":"O3"}]}],"xaxis":{"domain":[0,1],"automargin":true},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(31,119,180,0.5)","y":[10.49,10.57,9.6500000000000004,13.210000000000001,10.210000000000001,10.26,9.1199999999999992,9.5199999999999996,8.9900000000000002,10.050000000000001,9.0199999999999996,9.1899999999999995,9.25,12.19,10.869999999999999,8.8900000000000006,8.6400000000000006,9.25,7.9900000000000002,9.1799999999999997,8.6500000000000004,9.8900000000000006,11.56,11.01,8.7100000000000009,10.619999999999999,10.41,9.6099999999999994,10.710000000000001,14.24,9.8000000000000007,8.9800000000000004,9.3399999999999999,11.83,9.9299999999999997,10.48,10.09,10.33,11,10.99,9.7899999999999991,9.6799999999999997],"type":"box","name":"PM2.5 2010","visible":true,"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(255,127,14,0.5)","y":[10.050000000000001,11.44,9.9499999999999993,11.119999999999999,9.6300000000000008,9.5700000000000003,9.7300000000000004,11.02,8.4399999999999995,9.4299999999999997,9.7400000000000002,9.3599999999999994,10.6,11.130000000000001,9.1699999999999999,12.039999999999999,13.93,10.15,12.279999999999999,10.09,11.49,9.2899999999999991,10.07,11.119999999999999,9.7100000000000009,10.880000000000001,11.51,11.44,9.7799999999999994,11.24,9.5500000000000007,9.4399999999999995,10.65,13.27,11.140000000000001,10.48,12.1,10.84,10.289999999999999,10.77,11.449999999999999,10.5],"type":"box","name":"PM2.5 2011","visible":true,"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(44,160,44,0.5)","y":[9.5899999999999999,8.9000000000000004,8.5199999999999996,9.1099999999999994,10.26,8.6300000000000008,8.8300000000000001,8.9800000000000004,8.3699999999999992,10.99,10.35,8.3200000000000003,8.4800000000000004,8.5500000000000007,9.8399999999999999,7.3600000000000003,8.0399999999999991,8.1799999999999997,9.4600000000000009,9.9900000000000002,12.42,9.9800000000000004,11.19,10.27,13.23,11.32,8.8900000000000006,8.2799999999999994,8.5500000000000007,9.6999999999999993,10.460000000000001,9.8900000000000006,9.2699999999999996,9.1300000000000008,9.4700000000000006,10.02,8.5999999999999996,8.3000000000000007,10.220000000000001,9.9000000000000004,8.9399999999999995,9.2300000000000004],"type":"box","name":"PM2.5 2012","visible":true,"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"line":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(214,39,40,0.5)","y":[8.6899999999999995,9.0600000000000005,8.5999999999999996,10.81,9.5999999999999996,9.7300000000000004,8.2200000000000006,10.15,7.8499999999999996,7.6100000000000003,8.2100000000000009,8.5099999999999998,8.2699999999999996,8.1400000000000006,8.2699999999999996,7.9000000000000004,9.1300000000000008,9.6999999999999993,11.06,12.41,13.199999999999999,8.3900000000000006,8.4900000000000002,10.35,7.8200000000000003,8.0800000000000001,10,9.3599999999999994,11.1,9.4800000000000004,8.2400000000000002,8.1099999999999994,9.1199999999999992,8.75,9.5700000000000003,8.1799999999999997,8.8800000000000008,8.7300000000000004,9.8300000000000001,8.7400000000000002,9.75,9.4600000000000009],"type":"box","name":"PM2.5 2013","visible":true,"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"line":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(148,103,189,0.5)","y":[8.9700000000000006,9.6300000000000008,9.8200000000000003,8.8699999999999992,9.4900000000000002,9.9900000000000002,8.9700000000000006,8.6500000000000004,8.8499999999999996,9.8399999999999999,8.6799999999999997,7.6900000000000004,8.6199999999999992,8.0199999999999996,8.7899999999999991,9.7300000000000004,8.3399999999999999,8.4299999999999997,9.9800000000000004,8.4600000000000009,8.3900000000000006,12.529999999999999,11.17,13.23,10.42,8.1999999999999993,11.359999999999999,10.529999999999999,8.3100000000000005,8.3699999999999992,9.4700000000000006,11.15,10.539999999999999,9.75,9,9.1600000000000001,9.1899999999999995,9,9.8399999999999999,9.8699999999999992,8.4800000000000004,9.0399999999999991],"type":"box","name":"PM2.5 2014","visible":true,"marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"line":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(140,86,75,0.5)","y":[11.390000000000001,9.5999999999999996,8.1899999999999995,9.1699999999999999,10.199999999999999,8.0099999999999998,11.720000000000001,10.6,9.3599999999999994,9.7799999999999994,7.1600000000000001,7.9000000000000004,8.1999999999999993,8.0500000000000007,8.5099999999999998,9.1699999999999999,7.8200000000000003,8.3399999999999999,9.3599999999999994,9.5099999999999998,10.539999999999999,10.06,7.7199999999999998,7.29,8.4399999999999995,8.2599999999999998,9.6099999999999994,8.5899999999999999,8.1300000000000008,9.6199999999999992,10.49,9.1300000000000008,8.4499999999999993,9.4499999999999993,9.6699999999999999,8.8699999999999992,9.1400000000000006,9.8900000000000006,8.0999999999999996,9.7799999999999994,8.7200000000000006,8.9299999999999997],"type":"box","name":"PM2.5 2015","visible":true,"marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"line":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(227,119,194,0.5)","y":[7.9500000000000002,7.0300000000000002,7.0999999999999996,7.5599999999999996,7.2199999999999998,7.8099999999999996,7.1200000000000001,7.2999999999999998,10.76,9.5199999999999996,6.9900000000000002,10.32,8.8599999999999994,8.6500000000000004,7.0199999999999996,6.7999999999999998,8.1400000000000006,6.5099999999999998,8.1899999999999995,5.9800000000000004,9.5299999999999994,6.75,7.4500000000000002,8.6699999999999999,6.5899999999999999,6.8799999999999999,9.4600000000000009,9.0700000000000003,8.4000000000000004,7.6399999999999997,8.2599999999999998,8.1799999999999997,9.0199999999999996,7.1100000000000003,7.9400000000000004,7.5,8.1600000000000001,7.5499999999999998,7.5700000000000003,8.4900000000000002,7.5,7.7999999999999998],"type":"box","name":"PM2.5 2016","visible":true,"marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"line":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(127,127,127,0.5)","y":[8.9800000000000004,7.5300000000000002,8.0899999999999999,7.5199999999999996,8.3499999999999996,8.1600000000000001,8.8499999999999996,10.33,6.9400000000000004,7.4100000000000001,7.0499999999999998,7.0499999999999998,7.2699999999999996,7.3200000000000003,7.2699999999999996,7.0800000000000001,6.75,6.3200000000000003,7.1900000000000004,6.7999999999999998,8.4199999999999999,7.9299999999999997,7.9299999999999997,9.9100000000000001,9.0099999999999998,8.5199999999999996,9.0199999999999996,7.3600000000000003,6.8300000000000001,6.5800000000000001,7.0300000000000002,8.2200000000000006,7.79,8.1099999999999994,7.0599999999999996,8.2599999999999998,8.3300000000000001,7.0199999999999996,8.1600000000000001,7.5199999999999996,7.5199999999999996,7.46],"type":"box","name":"PM2.5 2017","visible":true,"marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"line":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(188,189,34,0.5)","y":[7.8499999999999996,7.2699999999999996,7.7199999999999998,6.9900000000000002,6.5499999999999998,8.6799999999999997,6.9000000000000004,6.6299999999999999,6.9900000000000002,6.9500000000000002,7.3200000000000003,6.7800000000000002,7.04,6.5599999999999996,6.6900000000000004,7.5300000000000002,9.9700000000000006,8.1600000000000001,6.3600000000000003,7.5700000000000003,6.9900000000000002,7.3899999999999997,6.4199999999999999,6.0599999999999996,8.9399999999999995,8.1400000000000006,10.300000000000001,8.7899999999999991,6.5499999999999998,6.6699999999999999,7,6.1799999999999997,6.4800000000000004,8.1099999999999994,8.7200000000000006,7.8499999999999996,7.6799999999999997,6.7000000000000002,7.1900000000000004,7.5300000000000002,8.1600000000000001,7.0599999999999996],"type":"box","name":"PM2.5 2018","visible":true,"marker":{"color":"rgba(188,189,34,1)","line":{"color":"rgba(188,189,34,1)"}},"line":{"color":"rgba(188,189,34,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(23,190,207,0.5)","y":[6.7000000000000002,8.5600000000000005,7.5199999999999996,7.2300000000000004,6.1500000000000004,6.1900000000000004,7.3499999999999996,10.210000000000001,6.1600000000000001,6.0099999999999998,5.5899999999999999,5.96,6.5599999999999996,6.3399999999999999,6.2400000000000002,7.9900000000000002,8.2300000000000004,9.6500000000000004,10.09,7,6.6100000000000003,7.1100000000000003,8.8699999999999992,5.9000000000000004,7.4400000000000004,6.04,6.21,8,6.3099999999999996,6.3200000000000003,7.3200000000000003,6.6100000000000003,7.1100000000000003,6.71,6.6799999999999997,7.3799999999999999,7.1399999999999997,5.8099999999999996,6.21,7.5,6.5599999999999996,6.7400000000000002],"type":"box","name":"PM2.5 2019","visible":true,"marker":{"color":"rgba(23,190,207,1)","line":{"color":"rgba(23,190,207,1)"}},"line":{"color":"rgba(23,190,207,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(31,119,180,0.5)","y":[6.2800000000000002,8.5,6.2400000000000002,6.3499999999999996,5.9500000000000002,5.8899999999999997,6.3700000000000001,5.6200000000000001,6.1100000000000003,8.1799999999999997,8.2200000000000006,5.9100000000000001,6.29,5.7000000000000002,5.7800000000000002,5.3300000000000001,5.9699999999999998,5.9299999999999997,5.7000000000000002,6.5599999999999996,7.4199999999999999,6.6900000000000004,7.7599999999999998,5.9400000000000004,6.3499999999999996,6.8300000000000001,5.3399999999999999,6,6.7199999999999998,7.04,5.9699999999999998,6.3600000000000003,5.9299999999999997,5.9500000000000002,6.7199999999999998,6.2000000000000002,6.4699999999999998,6,6.1200000000000001,5.6900000000000004,6.0199999999999996,6.1200000000000001],"type":"box","name":"PM2.5 2020","visible":true,"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(255,127,14,0.5)","y":[6.9800000000000004,7.6699999999999999,6.5800000000000001,8.2200000000000006,6.8600000000000003,8.4399999999999995,6.4299999999999997,6.4299999999999997,6.7800000000000002,6.2699999999999996,6.2300000000000004,6.4500000000000002,7.1399999999999997,6.2999999999999998,7.2000000000000002,6.3700000000000001,5.9199999999999999,6.25,6.1799999999999997,6.54,7.5800000000000001,7.7999999999999998,7.0999999999999996,6.79,8.1500000000000004,6.2699999999999996,6.4400000000000004,7.25,7.0199999999999996,6.2699999999999996,6.7999999999999998,6.04,6.29,6.6100000000000003,6.6299999999999999,6.4299999999999997,6.9900000000000002,6.5499999999999998,6.79,6.5700000000000003,6.4900000000000002,6.5999999999999996],"type":"box","name":"PM2.5 2021","visible":true,"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(44,160,44,0.5)","y":[23.43,19.010000000000002,24.32,17.379999999999999,16,21.699999999999999,21.219999999999999,19.100000000000001,14.07,19.789999999999999,21.670000000000002,22.609999999999999,21.48,33.479999999999997,29.989999999999998,24.18,27.07,21.48,27.829999999999998,36.030000000000001,31.800000000000001,39.170000000000002,23.640000000000001,31.02,25.219999999999999,24.100000000000001,23.77,25.079999999999998,19.100000000000001,26.379999999999999,25.170000000000002,22.059999999999999,25.25,20.129999999999999,26.460000000000001,20.210000000000001,19.23,13.050000000000001,25.309999999999999,28.66,22.489999999999998,21.039999999999999],"type":"box","name":"NO2 2010","visible":false,"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"line":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(214,39,40,0.5)","y":[29.300000000000001,20.789999999999999,23.32,21.620000000000001,23.559999999999999,22.210000000000001,30.449999999999999,23.260000000000002,17.170000000000002,21.539999999999999,18.289999999999999,14.27,21.120000000000001,19.289999999999999,22.100000000000001,28.23,36.329999999999998,33.5,32.25,39.18,25.239999999999998,21.940000000000001,27.649999999999999,31.52,24.960000000000001,19.48,13.5,23.859999999999999,24.579999999999998,18.98,26.670000000000002,25.300000000000001,22.609999999999999,25.57,25.559999999999999,25.84,21.059999999999999,19.210000000000001,26.640000000000001,25.75,22.899999999999999,21.609999999999999],"type":"box","name":"NO2 2011","visible":false,"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"line":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(148,103,189,0.5)","y":[20.010000000000002,20.670000000000002,20.870000000000001,17.34,23.149999999999999,20.02,25.32,16.010000000000002,19.780000000000001,25.760000000000002,34.329999999999998,15.31,20.989999999999998,19.829999999999998,18.780000000000001,23.140000000000001,22.780000000000001,19.350000000000001,29.98,37.289999999999999,13.119999999999999,28.23,31.07,19.27,27.079999999999998,12.470000000000001,17.460000000000001,23.43,21.16,23.629999999999999,19.050000000000001,29.5,21.09,22.879999999999999,21.010000000000002,22.27,17.210000000000001,23.98,17.219999999999999,24.23,23.420000000000002,19.940000000000001],"type":"box","name":"NO2 2012","visible":false,"marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"line":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(140,86,75,0.5)","y":[20.23,23.73,16.359999999999999,21.539999999999999,19.030000000000001,16.800000000000001,19.649999999999999,36.079999999999998,26.5,11.51,15.4,20.300000000000001,14.69,12.67,18.379999999999999,25.359999999999999,33.350000000000001,18.710000000000001,24.75,28.59,22.300000000000001,21.890000000000001,18.960000000000001,29.190000000000001,20.57,27.390000000000001,30.260000000000002,18.579999999999998,22.789999999999999,22.850000000000001,20.59,16.41,22.719999999999999,18.23,22.280000000000001,19.890000000000001,16.649999999999999,22.670000000000002,18.370000000000001,23.41,20.190000000000001,18.579999999999998],"type":"box","name":"NO2 2013","visible":false,"marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"line":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(227,119,194,0.5)","y":[17.629999999999999,17,19.75,23.859999999999999,23.760000000000002,20,19.260000000000002,34.740000000000002,14.56,13.77,17.539999999999999,15.529999999999999,19.190000000000001,26.449999999999999,17.280000000000001,18.809999999999999,22.07,28.870000000000001,31.899999999999999,19.460000000000001,27.989999999999998,21.870000000000001,19.100000000000001,21.120000000000001,27.620000000000001,20.41,22.43,20.469999999999999,20.23,19.440000000000001,21.75,21.140000000000001,12.59,17.440000000000001,17.100000000000001,22.559999999999999,21.870000000000001,18.969999999999999,22.199999999999999,25.100000000000001,22.670000000000002,19.260000000000002],"type":"box","name":"NO2 2014","visible":false,"marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"line":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(127,127,127,0.5)","y":[22.280000000000001,19.739999999999998,17.079999999999998,17.16,21.140000000000001,21.390000000000001,21.109999999999999,31.23,26.27,18.780000000000001,14.210000000000001,18.68,15.279999999999999,19.09,17.359999999999999,18.420000000000002,13.550000000000001,19.25,22.989999999999998,29.170000000000002,23.149999999999999,24.84,26.609999999999999,25.670000000000002,18.620000000000001,17.300000000000001,11.91,21.27,23.859999999999999,19.719999999999999,19.710000000000001,20.91,19.760000000000002,21.84,20.829999999999998,21.690000000000001,17.82,19.52,16.52,21.870000000000001,19.09,19.359999999999999],"type":"box","name":"NO2 2015","visible":false,"marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"line":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(188,189,34,0.5)","y":[17.52,22.190000000000001,16.039999999999999,19.91,17.800000000000001,18.09,18.649999999999999,14.109999999999999,18.239999999999998,17.469999999999999,14.93,11.720000000000001,28.359999999999999,20.91,20.530000000000001,22.190000000000001,17.559999999999999,19.850000000000001,25.93,30.140000000000001,24.489999999999998,16.16,26.149999999999999,17.780000000000001,15.619999999999999,16.43,11.52,20.82,23.149999999999999,24.809999999999999,18.870000000000001,18.859999999999999,21.440000000000001,19.32,20.370000000000001,15.300000000000001,21.079999999999998,20.199999999999999,17.93,21.649999999999999,18.260000000000002,17.920000000000002],"type":"box","name":"NO2 2016","visible":false,"marker":{"color":"rgba(188,189,34,1)","line":{"color":"rgba(188,189,34,1)"}},"line":{"color":"rgba(188,189,34,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(23,190,207,0.5)","y":[21.190000000000001,16.98,22.640000000000001,30.309999999999999,18.109999999999999,18.649999999999999,13.859999999999999,17.949999999999999,12.66,24.199999999999999,14.630000000000001,28.460000000000001,18.5,25.039999999999999,22.41,20.989999999999998,20.559999999999999,20.559999999999999,17.690000000000001,25.620000000000001,16.440000000000001,25.82,16.079999999999998,11.699999999999999,18.829999999999998,21.120000000000001,18.870000000000001,18.809999999999999,20.390000000000001,16.59,20.690000000000001,23.390000000000001,18.309999999999999,17.280000000000001,20.079999999999998,21.66,17.690000000000001,15.640000000000001,18.870000000000001,21.120000000000001,19.149999999999999,18.719999999999999],"type":"box","name":"NO2 2017","visible":false,"marker":{"color":"rgba(23,190,207,1)","line":{"color":"rgba(23,190,207,1)"}},"line":{"color":"rgba(23,190,207,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(31,119,180,0.5)","y":[19.420000000000002,19.670000000000002,17.629999999999999,21.140000000000001,16.16,17.34,20.829999999999998,16.859999999999999,10.52,16.77,13.57,17.940000000000001,17.190000000000001,14.26,27.57,21.66,20.890000000000001,19.899999999999999,20.91,17.550000000000001,24.789999999999999,28.690000000000001,22.940000000000001,16.210000000000001,25.149999999999999,14.35,15.77,11.050000000000001,20.949999999999999,22.219999999999999,19.73,23.420000000000002,17.899999999999999,17.559999999999999,21.93,20.23,18.109999999999999,14.48,19.760000000000002,17.25,15.77,16.890000000000001],"type":"box","name":"NO2 2018","visible":false,"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(255,127,14,0.5)","y":[21.399999999999999,18.460000000000001,18.75,15.17,16.66,10.039999999999999,16.27,13.140000000000001,15.130000000000001,23.559999999999999,19.670000000000002,20.800000000000001,15.73,20.239999999999998,14.67,18.670000000000002,13.33,12.210000000000001,16.239999999999998,14.5,15.51,26.219999999999999,15.359999999999999,26.02,16.260000000000002,19.399999999999999,24.170000000000002,21.57,19.699999999999999,19.98,17.27,13.5,22.129999999999999,13.5,15.699999999999999,18.760000000000002,17.690000000000001,17.640000000000001,10.23,14.17,15.81,15.470000000000001],"type":"box","name":"NO2 2019","visible":false,"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(44,160,44,0.5)","y":[16.190000000000001,19.620000000000001,19.629999999999999,16.77,16.98,18.5,15.59,14.15,21.32,14.4,11.779999999999999,15.74,14.75,10.550000000000001,14.24,23.870000000000001,18.989999999999998,13.02,21.550000000000001,19.690000000000001,24.27,18.940000000000001,20.890000000000001,18.77,13.779999999999999,18.079999999999998,12.56,17.789999999999999,10.56,13.16,15.74,18.5,16.07,16,18.43,14.81,18.920000000000002,17.100000000000001,15.9,18.260000000000002,13.76,16.75],"type":"box","name":"NO2 2020","visible":false,"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"line":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(214,39,40,0.5)","y":[18.039999999999999,11.41,18.52,20.550000000000001,16.030000000000001,18.280000000000001,18.780000000000001,14.25,21.300000000000001,19.170000000000002,18.559999999999999,14.279999999999999,14.9,16.039999999999999,15.1,16.030000000000001,15.66,23.32,18.210000000000001,15.66,13.26,20.309999999999999,19,15.300000000000001,23.539999999999999,21.489999999999998,19.550000000000001,14.68,16.739999999999998,11.300000000000001,17.100000000000001,14.279999999999999,16.379999999999999,18.030000000000001,13.91,16.120000000000001,19.039999999999999,17.120000000000001,17.640000000000001,14.77,15.98,16.010000000000002],"type":"box","name":"NO2 2021","visible":false,"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"line":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(148,103,189,0.5)","y":[32.710000000000001,32.530000000000001,34.289999999999999,33.520000000000003,34.039999999999999,31.91,34.299999999999997,29.75,25.620000000000001,33.32,33.990000000000002,32.740000000000002,27.870000000000001,38.979999999999997,28.379999999999999,36.520000000000003,34.310000000000002,33.170000000000002,36.530000000000001,28.68,33.509999999999998,32.380000000000003,34.450000000000003,30.52,32.270000000000003,33.329999999999998,23.899999999999999,26.890000000000001,34.5,33.009999999999998,30.539999999999999,33.340000000000003,33.229999999999997,32.539999999999999,33.380000000000003,31.25,36.119999999999997,33.960000000000001,30.940000000000001,28.210000000000001,31.629999999999999,33.969999999999999],"type":"box","name":"O3 2010","visible":false,"marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"line":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(140,86,75,0.5)","y":[29.539999999999999,32.93,33.920000000000002,33.590000000000003,33.439999999999998,33.630000000000003,33.170000000000002,32.969999999999999,31.02,35.909999999999997,32.950000000000003,26.210000000000001,32.700000000000003,39.030000000000001,26.940000000000001,36.560000000000002,33,35.93,33.030000000000001,27.890000000000001,31.539999999999999,33.130000000000003,30.25,31.5,22.59,25.07,33.850000000000001,32.659999999999997,30.129999999999999,32.670000000000002,33.420000000000002,24.199999999999999,29.399999999999999,31.609999999999999,31.239999999999998,31.120000000000001,31.43,32.079999999999998,27.52,31.460000000000001,33.5,34.240000000000002],"type":"box","name":"O3 2011","visible":false,"marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"line":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(227,119,194,0.5)","y":[33.380000000000003,32.119999999999997,32.759999999999998,33.299999999999997,31.059999999999999,34.149999999999999,33.140000000000001,34.810000000000002,37.079999999999998,33.350000000000001,34.280000000000001,40.299999999999997,34.460000000000001,33.579999999999998,33.780000000000001,27.850000000000001,28.41,35.270000000000003,30.170000000000002,33.840000000000003,32.280000000000001,26,32.25,32.289999999999999,33.380000000000003,24.050000000000001,31.710000000000001,33.909999999999997,32.659999999999997,26.440000000000001,34.079999999999998,34.979999999999997,36.600000000000001,32.729999999999997,33.719999999999999,35.090000000000003,30.66,33.229999999999997,29.239999999999998,33.420000000000002,33.969999999999999,35.439999999999998],"type":"box","name":"O3 2012","visible":false,"marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"line":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(127,127,127,0.5)","y":[31.68,28.399999999999999,30.789999999999999,31.43,30.77,28.870000000000001,26.32,28.84,31.68,30.609999999999999,31.789999999999999,33.880000000000003,30.609999999999999,36.840000000000003,30.68,31.120000000000001,25.219999999999999,24.260000000000002,32.060000000000002,29.699999999999999,32.659999999999997,30.760000000000002,26.93,30.670000000000002,30.48,29.670000000000002,30.73,21.93,23.530000000000001,30.620000000000001,29.34,29.66,25.73,31.440000000000001,31.59,33.700000000000003,29.77,30.370000000000001,28.039999999999999,29.920000000000002,30.149999999999999,31.510000000000002],"type":"box","name":"O3 2013","visible":false,"marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"line":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(188,189,34,0.5)","y":[32.509999999999998,32.630000000000003,22.890000000000001,26.66,31.800000000000001,32.009999999999998,31.329999999999998,28.920000000000002,30.68,36.25,26.93,33.600000000000001,32.609999999999999,30.23,31.140000000000001,30.870000000000001,31.93,31.960000000000001,32.259999999999998,27.399999999999999,30.41,31.129999999999999,30.600000000000001,30.329999999999998,30.699999999999999,26.66,30.07,30.940000000000001,33.25,31.41,25.98,31.32,29.91,24.609999999999999,28.579999999999998,31.489999999999998,29.32,30.710000000000001,29.52,30.469999999999999,30.449999999999999,31.969999999999999],"type":"box","name":"O3 2014","visible":false,"marker":{"color":"rgba(188,189,34,1)","line":{"color":"rgba(188,189,34,1)"}},"line":{"color":"rgba(188,189,34,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(23,190,207,0.5)","y":[31.530000000000001,31.18,31.66,32.590000000000003,31.84,35.009999999999998,29.989999999999998,37.439999999999998,31.809999999999999,28.07,31.879999999999999,27.350000000000001,31.57,32.509999999999998,32.039999999999999,32.200000000000003,34.700000000000003,31.66,29.579999999999998,29.649999999999999,26.109999999999999,31.43,28.949999999999999,30.969999999999999,28.719999999999999,27.73,26.98,32.829999999999998,32.140000000000001,28.98,29.93,29.760000000000002,31.27,34.07,28.120000000000001,25.059999999999999,29.93,31.289999999999999,29.530000000000001,31.100000000000001,31.41,32.579999999999998],"type":"box","name":"O3 2015","visible":false,"marker":{"color":"rgba(23,190,207,1)","line":{"color":"rgba(23,190,207,1)"}},"line":{"color":"rgba(23,190,207,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(31,119,180,0.5)","y":[31.98,33.159999999999997,32.960000000000001,33.57,34.340000000000003,31.920000000000002,33.149999999999999,34.18,33.479999999999997,30.170000000000002,33.439999999999998,33.420000000000002,35.789999999999999,33.859999999999999,30.030000000000001,27.510000000000002,34.25,38.18,30.140000000000001,34.299999999999997,35.619999999999997,32.990000000000002,33.119999999999997,36.170000000000002,30.539999999999999,32.990000000000002,34.68,31.620000000000001,33.659999999999997,29.73,28.760000000000002,31.350000000000001,32.460000000000001,33.539999999999999,32.340000000000003,33.210000000000001,32.310000000000002,32.979999999999997,33.280000000000001,32.780000000000001,33.630000000000003,34.259999999999998],"type":"box","name":"O3 2016","visible":false,"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(255,127,14,0.5)","y":[29.390000000000001,27.800000000000001,30.059999999999999,31.16,31.719999999999999,28.98,30.07,29.010000000000002,27.949999999999999,29.440000000000001,27.530000000000001,28.829999999999998,30.260000000000002,29.719999999999999,30.050000000000001,27,35.189999999999998,25.579999999999998,30.93,22.120000000000001,31.859999999999999,25.23,28.949999999999999,29.120000000000001,23.43,24.66,30.129999999999999,29.41,26.91,26.510000000000002,27.920000000000002,26.920000000000002,29.329999999999998,32.450000000000003,29.260000000000002,28.34,25.239999999999998,27.719999999999999,30.27,30.899999999999999,29.789999999999999,25.57],"type":"box","name":"O3 2017","visible":false,"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(44,160,44,0.5)","y":[30.199999999999999,30.960000000000001,31.030000000000001,31.93,28.949999999999999,28.48,29.890000000000001,31.280000000000001,30.440000000000001,30.329999999999998,31.710000000000001,31.82,35.18,26.82,26.969999999999999,31.329999999999998,32.5,23.989999999999998,26.350000000000001,30.34,29.66,24.809999999999999,29.359999999999999,25.920000000000002,30.949999999999999,30.620000000000001,28.829999999999998,28.41,28.539999999999999,28.98,29.640000000000001,29.800000000000001,32.960000000000001,29.489999999999998,30.600000000000001,29.960000000000001,30.899999999999999,29.68,31.239999999999998,30.98,31.52,27.199999999999999],"type":"box","name":"O3 2018","visible":false,"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"line":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(214,39,40,0.5)","y":[31.809999999999999,30.34,29.059999999999999,27.73,29.100000000000001,33.329999999999998,30.870000000000001,29.34,27.27,28.800000000000001,27.510000000000002,31.300000000000001,25.879999999999999,31.43,33.310000000000002,25.039999999999999,29.949999999999999,32.829999999999998,23.960000000000001,29.579999999999998,34.049999999999997,31.300000000000001,30.460000000000001,28.359999999999999,27.77,28.43,33.420000000000002,37.439999999999998,25.719999999999999,24.719999999999999,30.829999999999998,23.84,27.07,27.609999999999999,30.140000000000001,25.59,30.620000000000001,28.620000000000001,28.829999999999998,29.640000000000001,31.68,32.609999999999999],"type":"box","name":"O3 2019","visible":false,"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"line":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(148,103,189,0.5)","y":[29.73,29.710000000000001,30.5,27.739999999999998,26.960000000000001,28.329999999999998,31.59,30.890000000000001,30.940000000000001,32.049999999999997,29.98,31.489999999999998,28.920000000000002,29.300000000000001,29.469999999999999,27.649999999999999,29.620000000000001,28.969999999999999,30.960000000000001,27.829999999999998,30.190000000000001,30.199999999999999,27.710000000000001,28.539999999999999,29.460000000000001,28.84,31.489999999999998,29.16,29.52,28.789999999999999,28.489999999999998,30.359999999999999,28.93,30.170000000000002,30.149999999999999,29.84,29.379999999999999,30.129999999999999,30.850000000000001,29.379999999999999,30.449999999999999,29.48],"type":"box","name":"O3 2020","visible":false,"marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"line":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(140,86,75,0.5)","y":[30.550000000000001,30.300000000000001,28.98,30.789999999999999,27.789999999999999,27.890000000000001,29.149999999999999,28.640000000000001,30.989999999999998,32.259999999999998,31.870000000000001,27.109999999999999,29.190000000000001,31.98,30.449999999999999,27.960000000000001,31.449999999999999,34.810000000000002,28.289999999999999,30.210000000000001,29.09,28.359999999999999,30.469999999999999,26.949999999999999,30.879999999999999,28.489999999999998,27.960000000000001,29.09,27.829999999999998,29.02,30,29.199999999999999,30.41,29.449999999999999,29,28.699999999999999,30.370000000000001,29.280000000000001,30.140000000000001,31.079999999999998,27.809999999999999,30.289999999999999],"type":"box","name":"O3 2021","visible":false,"marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"line":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="daily-data" class="section level2">
<h2><strong>Daily Data</strong></h2>
<p>Now that we have looked at how pollution levels change over the
years, let’s examine the pollution variables at a more granular level.
In this data, we have 18,452 rows, where each row is a date-measurement
site-pollutant combination.</p>
<div id="how-do-pollutant-variables-change-over-time"
class="section level3">
<h3>How do pollutant variables change over time?</h3>
<p>After restricting our analysis to roughly 2020 to 2022, we generate
visualizations of the distributions of certain pollutants of interest.
Throughout the year, we see oscillations in the levels of Ozone (O3) and
Nitrogen Dioxide (NO2) throughout the year, with the former reaching its
highest levels in the summer months and the latter peaking in the
winter. Carbon Monoxide (CO) also exhibits oscillations, but to a much
lower degree. PM2.5, a type of fine particulate matter with 2.5 microns
or less in diameter, does not appear to exhibit a seasonal pattern.</p>
<p>This makes sense intuitively, as we would expect higher emissions
from heating and transportation to gather in urban regions due to colder
temperatures, leading to higher levels of Nitrogen Dioxide and Carbon
Monoxide. In fact, <a
href="https://pubmed.ncbi.nlm.nih.gov/9950394/">epidemics of CO
poisoning</a> commonly occurs during winter months and sources include
smoke from fires, fumes from heating systems burning fuels, and exhaust
fumes from motor vehicles. On the other hand, according to the <a
href="https://www.lung.org/clean-air/outdoors/what-makes-air-unhealthy/ozone#">American
Lung Association</a>, high levels of Ozone are more likely to form in
warmer temperatures, which is why harmful ozone levels primarily occur
in the summer in most of the US because climate change is driving warmer
temperatures.</p>
<pre class="r"><code>daily_air = read_csv(here::here(&quot;data/raw_data/alt_air_data.csv&quot;)) %&gt;%
  mutate(borough = case_when(
    county == &quot;New York&quot; ~ &quot;Manhattan&quot;,
    county == &quot;Bronx&quot; ~ &quot;Bronx&quot;,
    county == &quot;Kings&quot; ~ &quot;Brooklyn&quot;,
    county == &quot;Queens&quot; ~ &quot;Queens&quot;,
    county == &quot;Richmond&quot; ~ &quot;Staten Island&quot;
     ),
    pollutant= case_when(
    pollutant == &quot;PM2.5&quot; ~ &quot;PM 2.5&quot;,
    pollutant == &quot;Ozone&quot; ~ &quot;O3&quot;,
    T ~ pollutant ),
    date = as.Date(date, format = &quot;%m/%d/%Y&quot;)) %&gt;% 
  mutate(
    pollutant = str_c(pollutant, &quot; (&quot;, units, &quot;)&quot;)
  )</code></pre>
<pre class="r"><code>poll_plot = daily_air |&gt; 
  ggplot(aes(x = date, y = value, color = pollutant)) +
  geom_point() +
  geom_smooth(color = &quot;blue&quot;) +
  facet_wrap(~ pollutant, ncol = 2, scales=&quot;free_y&quot;) +
  ggtitle(&quot;Daily average of each pollutant by site&quot;) + 
  scale_color_discrete()

poll_plot</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-6-1.png" width="100%" /></p>
</div>
<div id="distributions-of-no2-o3-and-pm2.5-by-borough"
class="section level3">
<h3>Distributions of NO2, O3 and PM2.5 by borough</h3>
<p>Now that we have seen how these pollutant variables change over time,
we want to know whether they differ by borough. We see that at the
borough-level, the daily measurements are similar for all
pollutants.</p>
<pre class="r"><code>daily_air %&gt;%
  filter(!str_detect(pollutant, &quot;CO&quot;)) %&gt;%
  ggplot() + geom_boxplot(aes(x = borough, y = value, fill = borough)) + 
  labs(x = &quot;Borough&quot;, y = &quot;Measurement value&quot;, fill = &quot;Borough&quot;) +
  theme(axis.text.x  = element_text(angle=15)) +
  facet_wrap(~pollutant, scales = &#39;free&#39;)</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-7-1.png" width="100%" /></p>
</div>
<div id="time-series-plots-for-select-neighborhoods"
class="section level3">
<h3>Time series plots for select neighborhoods</h3>
<p>In these time series plots, each line represents the mean measurement
per day for measurements taken in that neighborhood. The neighborhoods
follow similar trends: NO2 seems to peak sometime between winter and
spring, while O3 peaks in the summers and PM 2.5 peaks in the
winter.</p>
<pre class="r"><code>#this data maps measurement sites to neighborhoods

sites_nghbors = read_csv(here::here(&quot;data/cleaned_data/pollutant_per_neighborhood.csv&quot;))</code></pre>
<pre class="r"><code>daily_neighborhood_data = bind_rows(store_data[[1]], store_data[[2]]) %&gt;%
  bind_rows(store_data[[3]]) %&gt;%
  bind_rows(store_data[[4]]) %&gt;%
  bind_rows(store_data[[5]]) %&gt;%
  mutate(date = as.Date(date, format = &quot;%m/%d/%Y&quot;))</code></pre>
<pre class="r"><code>daily_neighborhood_data %&gt;%
  filter(pollutant == &quot;NO2 (ppb)&quot;) %&gt;%
  ggplot() + geom_line(aes(x = date, y = mean_value,
                            group = neighborhood, color = neighborhood)) +
  scale_color_manual(values = c(&quot;red&quot;, &quot;blue&quot;, 
                                    &quot;green&quot;,&quot;orange&quot;, 
                                    &quot;black&quot;)) +
  labs(title = &quot;NO2 measurements per neighborhood&quot;, x = &quot;Date&quot;, 
       y = &quot;Mean measurement (ppb)&quot;, color = &quot;Neighborhood&quot;)</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-11-1.png" width="100%" /></p>
<pre class="r"><code>daily_neighborhood_data %&gt;%
  filter(pollutant == &quot;O3 (ppm)&quot;) %&gt;%
  ggplot() + geom_line(aes(x = date, y = mean_value,
                            group = neighborhood, color = neighborhood)) +
  scale_color_manual(values = c(&quot;red&quot;, &quot;blue&quot;, 
                                    &quot;green&quot;,&quot;orange&quot;, 
                                    &quot;black&quot;)) +
  labs(title = &quot;O3 measurements per neighborhood&quot;, x = &quot;Date&quot;, 
       y = &quot;Mean measurement (ppm)&quot;, color = &quot;Neighborhood&quot;)</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-12-1.png" width="100%" /></p>
<pre class="r"><code>daily_neighborhood_data %&gt;%
  filter(pollutant == &quot;PM 2.5 (ug/m3 LC)&quot;) %&gt;%
  ggplot() + geom_line(aes(x = date, y = mean_value,
                            group = neighborhood, color = neighborhood)) +
  scale_color_manual(values = c(&quot;red&quot;, &quot;blue&quot;, 
                                    &quot;black&quot;,
                                    &quot;green&quot;,&quot;orange&quot;)) +
  labs(title = &quot;PM 2.5 measurements per neighborhood&quot;, x = &quot;Date&quot;, 
       y = &quot;Mean measurement (ug/m3 LC)&quot;, color = &quot;Neighborhood&quot;)</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-13-1.png" width="100%" /></p>
</div>
</div>
</div>
<div id="disease-related-variables" class="section level1">
<h1><strong>Disease-related variables</strong></h1>
<div id="how-do-disease-variables-change-over-time"
class="section level3">
<h3>How do disease variables change over time?</h3>
<p>Here, our analysis also spans from roughly 2020 to 2022. From the
plot below, we can see that respiratory diseases, pneumonia-related
emergency department visits and admissions all peak during winter
seasons, which seems to match up with the time-series plots for Carbon
Monoxide and Nitrogen Dioxide. Colds, flus and other respiratory
illnesses are common in colder months. Among these variables, <a
href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3314701/">pneumonia</a>
is commonly known have a higher occurrence during winter. This is partly
attributed to the drop in temperature and rise in humidity levels, which
can impair the immune system thus rendering individuals more vulnerable
to infections. The body focuses on combating the cold and retaining
warmth, making it more challenging to fend off infections such as
pneumonia.</p>
<p>However, we saw previously that Ozone trends in the opposite
direction as other pollutants, which prompts our interest in exploring a
potential lagged association between Ozone levels and disease
occurrences. To investigate this, we have conducted a cross-correlation
analysis at the end of this page, as an attempt to test out the idea of
lagging certain variables.</p>
<pre class="r"><code>dis_asth_df = read_csv(here::here(&quot;data/raw_data/joined_respiratory.csv&quot;),
                       col_types = cols(
                          `date` = col_date(format = &#39;%m/%d/%y&#39;))) |&gt; 
  rename(zip_code = zip) |&gt; 
  filter(zip_code != 88888 &amp; zip_code != &quot;Citwide&quot; &amp; age_group == &quot;All age groups&quot;) |&gt; 
  mutate(year = as.numeric(format(date, format = &quot;%Y&quot;)),
         month = month.name[as.numeric(format(date, format = &quot;%m&quot;))],
         day = as.numeric(format(date, format = &quot;%d&quot;)),
         zip_code = as.numeric(zip_code)) |&gt;
  select(year, month, day, zip_code, count_resp, count_asth) 

# Load dataset with pneumonia data

dis_pneu_df = read_csv(here::here(&quot;data/raw_data/disease_hospital_admin.csv&quot;),
                       col_types = cols(
                                     `date` = col_date(format = &quot;%m/%d/%Y&quot;),
                                     `total_ed_visits` = col_integer(),
                                     `ili_pne_visits` = col_integer(),
                                     `ili_pne_admissions` = col_integer())) |&gt; 
  separate(date, into=c(&quot;year&quot;, &quot;month&quot;, &quot;day&quot;)) |&gt; 
  mutate(day = as.numeric(day),
         month = month.name[as.numeric(month)],
         year = as.numeric(year)) |&gt; 
  rename(zip_code = mod_zcta) |&gt; 
  select(year, month, day, zip_code, total_ed_visits, ili_pne_visits, ili_pne_admissions)

# Merge two disease datasets

all_dis_df =
  full_join(dis_asth_df, dis_pneu_df, by = c(&quot;zip_code&quot;, &quot;year&quot;, &#39;month&#39;, &#39;day&#39;))</code></pre>
<pre class="r"><code>dis_plot = all_dis_df |&gt;
  pivot_longer(cols = c(&quot;count_resp&quot;, &quot;count_asth&quot;, &quot;ili_pne_visits&quot;, &quot;ili_pne_admissions&quot;), 
               names_to = &quot;variable&quot;,
               values_to = &quot;count&quot;) |&gt; 
  mutate(variable = case_when(
      variable ==&quot;count_resp&quot; ~ &quot;Respiratory diseases&quot;,
      variable ==&quot;count_asth&quot; ~ &quot;Asthma&quot;,
      variable ==&quot;ili_pne_visits&quot; ~ &quot;Pneumonia (ER visits)&quot;,
      variable ==&quot;ili_pne_admissions&quot; ~ &quot;Pneumonia (admissions)&quot;),
      across(variable, ~factor(., levels=c(&quot;Asthma&quot;,&quot;Respiratory diseases&quot;,
                                           &quot;Pneumonia (ER visits)&quot;,
                                           &quot;Pneumonia (admissions)&quot;))),
      month_num = match(month, month.name),
         date = as.Date(paste(year, month_num, day, sep = &#39;-&#39;),
                        format = &#39;%Y-%m-%d&#39;))|&gt; 
  ggplot(aes(x = date, y = count, color = variable)) +
  geom_point() +
  geom_smooth(color = &quot;blue&quot;) +
  facet_wrap(~ variable, ncol = 2, scales=&quot;free_y&quot;) +
  ggtitle(&quot;Daily counts of disease variables by site&quot;) + 
  scale_color_discrete()

dis_plot</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-15-1.png" width="100%" /></p>
</div>
<div id="distributions-of-illness-counts-by-illnessdisease"
class="section level3">
<h3>Distributions of illness counts by illness/disease</h3>
<p>Now that we see how the different illnesses behave over time, it
would be important to see how they/their counts behave individualy. We
can see that all illnesses have a majority of zero counts, thus their
distributions are right skewed. The only distribution with more
variability is for ER visits (overall).</p>
<pre class="r"><code># loading zip code data
zip_shapes &lt;- read_csv(here::here(&#39;data/cleaned_shapes/nyc_zip_codes.csv&#39;)) %&gt;%
  clean_names()

# merging disease with zip code data to add neigh &amp; borough data

all_dis_df &lt;- left_join(all_dis_df, zip_shapes, by = &#39;zip_code&#39;) %&gt;%
  mutate(
    #these zip codes needed manual inputs
    #bc not in zip_shapes file
    neighborhood = case_when(
      zip_code == &#39;10069&#39; ~ &#39;Upper West Side&#39;,
      zip_code == &#39;11109&#39; ~ &#39;Northwest Queens&#39;,
      zip_code == &#39;10282&#39; ~ &#39;Lower Manhattan&#39;,
      zip_code == &#39;10271&#39; ~ &#39;Lower Manhattan&#39;,
      zip_code == &#39;10278&#39; ~ &#39;Lower Manhattan&#39;,
      zip_code == &#39;10279&#39; ~ &#39;Lower Manhattan&#39;,
      #zip_code == &#39;11003&#39; ~ 10000 (deal w these)
      #zip_code == &#39;11040&#39;
      TRUE ~ neighborhood),
    
    borough = case_when(
      zip_code == &#39;10069&#39; ~ &#39;Manhattan&#39;,
      zip_code == &#39;11109&#39; ~ &#39;Queens&#39;,
      zip_code == &#39;10282&#39; ~ &#39;Manhattan&#39;,
      zip_code == &#39;10271&#39; ~ &#39;Manhattan&#39;,
      zip_code == &#39;10278&#39; ~ &#39;Manhattan&#39;,
      zip_code == &#39;10279&#39; ~ &#39;Manhattan&#39;,
      TRUE ~ borough)) %&gt;%
  
  #removing these zip codes bc
  #not apart of the 5 boroughs
  filter(!(zip_code == &#39;10000&#39;),
         !(zip_code == &#39;11003&#39;),
         !(zip_code == &#39;11040&#39;))

disease_eda &lt;- all_dis_df %&gt;%
  pivot_longer(cols = &#39;count_resp&#39;:&#39;ili_pne_admissions&#39;,
               names_to = &#39;illness_counts&#39;,
               values_to = &#39;count&#39;) %&gt;%
  mutate(month_num = match(month, month.name),
         date = as.Date(paste(year, month_num, day, sep = &#39;-&#39;),
                        format = &#39;%Y-%m-%d&#39;),
         
         illness_counts = case_when(
           illness_counts == &#39;total_ed_visits&#39; ~ &#39;ED visits (overall)&#39;,
           illness_counts == &#39;ili_pne_visits&#39; ~ &#39;Pneumonia (ER visits)&#39;,
           illness_counts == &#39;ili_pne_admissions&#39; ~ &#39;Pneumonia (ER admissions)&#39;,
           illness_counts == &#39;count_resp&#39; ~ &#39;Respiratory diseases&#39;,
           illness_counts == &#39;count_asth&#39; ~ &#39;Asthma&#39;))


#distribution of illness counts
disease_eda %&gt;%
  ggplot(aes(x = count, fill = illness_counts)) +
  geom_histogram(bins = 15) + 
  facet_wrap(~illness_counts, scales = &#39;free&#39;) +
  theme(legend.position = &quot;none&quot;) </code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-16-1.png" width="100%" /></p>
</div>
<div id="distribution-of-illness-counts-by-borough"
class="section level3">
<h3>Distribution of illness counts by borough</h3>
<p>Furthermore, we want to know how the illnesses differ by borough. We
can see that even for boroughs, illness distributions are zero inflated.
Again, the ER visits (overall) has more variability among boroughs.</p>
<pre class="r"><code>#distribution of illness counts by neighborhood
disease_eda %&gt;%
  ggplot(aes(x = borough, y = count, fill = borough)) +
  geom_boxplot() +
  facet_wrap(~illness_counts, scales = &#39;free&#39;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-17-1.png" width="100%" /></p>
</div>
<div id="time-series-plots-for-select-neighborhoods-1"
class="section level3">
<h3>Time series plots for select neighborhoods</h3>
<p>In preperation for regression analysis, we explored 5 specific
neighborhoods, each in a different borough. The neighborhoods were
picked based on the available data for the pollutants.</p>
<pre class="r"><code>#neighborhoods of interest
neighborhoods = c(&quot;Inwood and Washington Heights&quot;, &quot;Lower East Side&quot;,
                  &quot;Mid-Island&quot;, &quot;Hunts Point and Mott Haven&quot;, &quot;Central Queens&quot;)

daily_disease_neigh = disease_eda %&gt;%
  filter(neighborhood %in% neighborhoods) %&gt;%
  group_by(date, borough, neighborhood, illness_counts) %&gt;% 
  summarize(total_counts = sum(count, na.remove = T)) %&gt;%
  #need neighborhood names to match
  mutate(neighborhood = case_when( 
    neighborhood == &quot;Inwood and Washington Heights&quot; ~ &quot;Washington Heights&quot;,
    neighborhood == &quot;Lower East Side&quot;  ~  &quot;Union Square - Lower East Side&quot;,
    neighborhood ==  &quot;Mid-Island&quot; ~ &quot;Willowbrook&quot;,
    neighborhood == &quot;Hunts Point and Mott Haven&quot; ~ 
      &quot;Hunts Point - Mott Haven&quot;,
    neighborhood == &quot;Central Queens&quot; ~&quot;Fresh Meadows&quot;
  ),
  date = as.Date(date, format = &#39;%Y-%m-%d&#39;))</code></pre>
<p>In the time series plots below, each line represents the total number
of hospital visits per day per neighborhood, and each plot presents that
information for the different illnesses and total ER visits.</p>
<p>The plots below further supports that most illness distributions are
zero inflated. Specifically, asthma, respiratory diseases. Thus, we
decided against using those as responses in regression analysis as
prediction may not be accurate. Similarly, we noticed that pneumonia ER
admissions consistently had less counts than pneumonia ER visits. And
although overall ER visits had more counts, we decided to soley focus on
pneumonia ER visits as a response in regression for the purpose of this
analysis.</p>
<pre class="r"><code>daily_disease_neigh %&gt;%
  filter(illness_counts == &#39;Asthma&#39;) %&gt;%
  ggplot(aes(x = date, y = total_counts,
             group = neighborhood, color = neighborhood)) +
  geom_line()</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-19-1.png" width="100%" /></p>
<pre class="r"><code>daily_disease_neigh %&gt;%
  filter(illness_counts == &#39;Respiratory diseases&#39;) %&gt;%
  ggplot(aes(x = date, y = total_counts,
             group = neighborhood, color = neighborhood)) +
  geom_line()</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-20-1.png" width="100%" /></p>
<pre class="r"><code>daily_disease_neigh %&gt;%
  filter(illness_counts == &#39;Pneumonia (ER visits)&#39;) %&gt;%
  ggplot(aes(x = date, y = total_counts,
             group = neighborhood, color = neighborhood)) +
  geom_line()</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-21-1.png" width="100%" /></p>
<pre class="r"><code>daily_disease_neigh %&gt;%
  filter(illness_counts == &#39;Pneumonia (ER admissions)&#39;) %&gt;%
  ggplot(aes(x = date, y = total_counts,
             group = neighborhood, color = neighborhood)) +
  geom_line()</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-22-1.png" width="100%" /></p>
<pre class="r"><code>daily_disease_neigh %&gt;%
  filter(illness_counts == &#39;ED visits (overall)&#39;) %&gt;%
  ggplot(aes(x = date, y = total_counts,
             group = neighborhood, color = neighborhood)) +
  geom_line()</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-23-1.png" width="100%" /></p>
</div>
</div>
<div
id="investigating-the-lagged-association-of-ozone-with-variables-related-to-respiratory-diseases"
class="section level1">
<h1>Investigating the lagged association of Ozone with variables related
to respiratory diseases</h1>
<pre class="r"><code>all_dis_df =
  full_join(dis_asth_df, dis_pneu_df, by = c(&quot;zip_code&quot;, &quot;year&quot;, &#39;month&#39;, &#39;day&#39;))

# Air quality dataset

air_qual_df = read_csv(&quot;data/raw_data/alt_air_data.csv&quot;) |&gt; 
  separate(date, into=c(&quot;month&quot;, &quot;day&quot;, &quot;year&quot;)) |&gt;
  mutate(day = as.numeric(day),
         month = month.name[as.numeric(month)],
         year = as.numeric(year)) |&gt; 
  filter(!(year == &#39;2020&#39; &amp; month == &#39;January&#39;),
         !(year == &#39;2020&#39; &amp; month == &#39;February&#39;)) |&gt; 
  select(year, month, day, zip_code, pollutant, value) |&gt; 
  group_by(day, month, year, zip_code, pollutant) |&gt; 
  summarize(value = mean(value))

# Merge all together

air_qual_dis = 
  full_join(all_dis_df, air_qual_df, by = c(&quot;month&quot;, &quot;day&quot;, &quot;year&quot;, &quot;zip_code&quot;)) |&gt;  
  mutate(
    numeric_month = match(month, month.name),
    date = as.Date(paste(year, numeric_month, day, sep = &quot;-&quot;), format = &quot;%Y-%m-%d&quot;)
  ) |&gt; 
  select(year, month, day, date, zip_code, count_resp, count_asth, total_ed_visits, 
         ili_pne_visits, ili_pne_admissions, pollutant, value) |&gt; 
  pivot_wider(names_from = pollutant,
              values_from = value) |&gt; 
  select(-`NA`) |&gt; 
  rename(pm25_ug_m3_lc = PM2.5,
         co_ppm = CO,
         o3_ppm = Ozone,
         no2_ppb = NO2) |&gt; 
  filter(!(year == &#39;2022&#39; &amp; month == &#39;December&#39;)) </code></pre>
<p>The work in this section is an attempt to learn and discover how we
can lag certain variables for our statistical analysis, and is purely
exploratory. From previous EDA, we discovered that Ozone was an opposite
trend as compared to other variables. Hence, we can use the
<code>ccf()</code> function to visualize how the correlation between
Ozone and Pneumonia ER visits varies as we apply a lag. In the plot
below, we can see that the correlation oscillates and peaks when we
apply a 125 day lag to the Pneumonia ER Visit variable.</p>
<pre class="r"><code>ccf_df = air_qual_dis |&gt; 
  filter(!is.na(o3_ppm) &amp; !is.na(ili_pne_visits)) |&gt; 
  mutate(date_lag = date + days(125),
         scaled_o3 = o3_ppm * 100, 
         lagged_pne = lag(ili_pne_visits, n = 125)
  )

ccf_res = ccf(ccf_df$o3_ppm, ccf_df$ili_pne_visits, lag.max=250, plot = FALSE)
plot(ccf_res, main = &quot;Analysing Lag between Ozone and Pneumonia ER visits (in days)&quot;)</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-25-1.png" width="100%" /></p>
<p>To help visualize this lag, the consequent plot shows how the peaks
of the two variables match up better when we apply a lag.</p>
<pre class="r"><code># Visualize lag

ccf_df |&gt; 
  ggplot() +
  geom_point(aes(x = date_lag, y = lagged_pne, color = &quot;Pneumonia ER visits&quot;)) +
  geom_point(aes(x = date, y = scaled_o3, color = &quot;Ozone (10^-2 ppm)&quot;)) +
  labs(title = &quot;Lagging Pneumonia ER visits by 125 days&quot;, 
       x = &quot;Date&quot;,
       y = &quot;Values&quot;) +
  scale_color_manual(labels = c(&quot;Ozone (10^-2 ppm)&quot;, &quot;Pneumonia hospital visits&quot;), 
                     values = c(&quot;Ozone (10^-2 ppm)&quot; = &quot;#FFA500&quot;, &quot;Pneumonia ER visits&quot; = &quot;#6495ED&quot;), 
                     guide = &quot;legend&quot;)</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-26-1.png" width="100%" /></p>
<p>In the pre-lag model, we see that Pneumonia ER visits decrease with
an increase in Ozone levels.</p>
<pre class="r"><code>prelag_model = lm(ili_pne_visits ~ scaled_o3, data = ccf_df)
broom::tidy(prelag_model)
ggplot(aes(x = scaled_o3, y = ili_pne_visits), data = ccf_df) + 
  geom_point(color = &quot;#FFA500&quot;) +
  geom_smooth(method = &quot;lm&quot;, color = &quot;blue&quot;) +
  labs(title = &quot;Pre-lag: Pneumonia ER visits vs. Ozone&quot;,
       x = expression(paste(&quot;Ozone (&quot;, 10^-2, &quot; ppm)&quot;)), 
       y = &quot;Pneumonia hospital visits (count)&quot;)</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-27-1.png" width="100%" /></p>
<p>However in the post-lag model, we see that Pneumonia ER visits
increase together with Ozone levels.</p>
<pre class="r"><code>lag_model = lm(lagged_pne ~ scaled_o3, data = ccf_df)
broom::tidy(lag_model)
ggplot(aes(x = scaled_o3, y = lagged_pne), data = ccf_df) + 
  geom_point(color = &quot;#FFA500&quot;) +
  geom_smooth(method = &quot;lm&quot;, color = &quot;blue&quot;) +
  labs(title = &quot;Post-lag: Pneumonia ER visits vs. Ozone&quot;,
       x = expression(paste(&quot;Ozone (&quot;, 10^-2, &quot; ppm)&quot;)), 
       y = &quot;Pneumonia hospital visits (count)&quot;)</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-28-1.png" width="100%" /></p>
<p>Once again, this is not a robust analysis on how cross correlation
should be applied to our statistical models later on since the
<code>ccf()</code> function is not the exact method we should apply in
our analysis, hence we will properly introduce the <code>statar</code>
package later on to do this.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
