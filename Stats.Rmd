---
title: "Statistical Analysis"
output: 
  html_document:
    toc: true
    toc_float: true
    theme: cosmo
    code_folding: hide
---
```{r, echo=FALSE, message = FALSE, warning = FALSE}
library(tidyverse)
```


## Regression of Fine Particles (PM 2.5) over time

```{r}
plot_data |> 
  filter(name == "Fine particles (PM 2.5)") |> 
  ggplot(aes(x = year, y = mean_dv)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE) + 
  labs(title = "PM2.5 Levels Throughout NYC Over Time",
       x = "Date",
       y = "Pollutant Level (mcg/m3)")


filtered_data = plot_data |> 
  filter(name == "Fine particles (PM 2.5)")

model =
  lm(mean_dv ~ year, data = filtered_data)

summary(model)
```


```{r}
df_air_zips = 
  read_csv("data/cleaned_data/air_quality_zips.csv") |> 
  mutate(zip = as.factor(air_quality_zips$zip))

df_incd = 
  read_csv("data/disease_datasets/incd.csv") |> 


model =
  lm(Health_Outcome ~ NO2, data = final_merged_data)
summary(model)

```




